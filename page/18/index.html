<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/18/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/18/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/14/Magento%E4%B8%AD%E8%B0%83%E7%94%A8%E9%9D%99%E6%80%81%E5%9D%97%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B1%80layout%E5%92%8C%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E5%92%8C%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/14/Magento%E4%B8%AD%E8%B0%83%E7%94%A8%E9%9D%99%E6%80%81%E5%9D%97%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B1%80layout%E5%92%8C%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E5%92%8C%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Magento中调用静态块的几种方法以及自定义布局layout和页面自定义模块和布局方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-14 18:14:17" itemprop="dateCreated datePublished" datetime="2018-06-14T18:14:17+08:00">2018-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:57:59" itemprop="dateModified" datetime="2020-10-11T11:57:59+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>默认情况下我们的头部导航那里随着鼠标滚动，会固定在顶部，但是如果我们想要对某个cms页面进行个性化定制的时候，怎么办？我们有多种方法，个人觉得比较方便的是直接在页面的那里的Design的 Layout Update XML 的那里添加如下代码：</p>
<pre><code>&lt;reference name=&quot;head&quot;&gt;&lt;remove name=&quot;sticky_header&quot;/&gt;&lt;/reference&gt;</code></pre>
<p>这句话的意思就是的移除sticky_header这个东西。</p>
<p><strong>这里科普一下：</strong></p>
<p>在模板文件中调用Static Block</p>
<p>在模板文件中调用Static Block有两种方法。</p>
<p>a）第一种是通过getChildHtml()方法调用，使用该方法的前提是在布局文件中，需要调用的Static Block已经在某一个Block内形成了父子关系，然后可以在父Block中使用getChildHtml()方法。</p>
<pre><code>echo $this-&gt;getChildHtml(&#39;top_ad_banner&#39;)   //这里的top_ad_banner是静态模块的Identifier</code></pre>
<p>b）第二种方法是在模板文件中使用createBlock()创建一个Block，然后再将Static Block赋予新创建的Block，然后toHtml()输出。使用该种方法不需要在布局文件中提前引用该Static Block。</p>
<pre><code>echo $this-&gt;getLayout()-&gt;createBlock(&#39;cms/block&#39;)-&gt;setBlockId(&#39;top_ad_banner&#39;)-&gt;toHtml()  //这里的top_ad_banner是我们在后台cms里面创建的静态模块的Identifier</code></pre>
<hr>
<p>好的，言归正传。为了方便维护和修改，我们不可能每次添加东西都要进入到源码里面添加东西，那么如果我们想要在主题模板的某个地方添加我们在后台创建的静态模块的时候，我们首先先去找到这个模板文件在源码的位置，然后添加代码：</p>
<pre><code>&lt;?php echo $this-&gt;getLayout()-&gt;createBlock(&#39;cms/block&#39;)-&gt;setBlockId(&#39;top_ad_banner&#39;)-&gt;toHtml() ?&gt;</code></pre>
<p>这句话的意思是获取cms下面的静态模块的id为：top_ad_banner的静态模块的内容。</p>
<p>笔者这里以porto主题为例，笔者这里采用的头部样式是<code>header_type2</code>，那么我找到的文件的位置是：app/design/frontend/smartwave/porto/template/page/html/header_type2.phtml</p>
<p>在这个顶部添加代码：</p>
<pre><code>&lt;?php echo $this-&gt;getLayout()-&gt;createBlock(&#39;cms/block&#39;)-&gt;setBlockId(&#39;top_ad_banner&#39;)-&gt;toHtml() ?&gt;</code></pre>
<p><img src="https://i.imgur.com/HiRg6M9.png"></p>
<p>好的我们确定了这个的位置后，那么我们需要在magento的后台的cms的静态模块：top ad banner</p>
<blockquote>
<p>在后台创建一个order_form静态块</p>
<p>Block Title :top ad banner</p>
<p>Identifier :top_ad_banner</p>
<p>Status :Enabled</p>
<p>Content :自定义内容</p>
</blockquote>
<p>这里的自定义内容如下：</p>
<pre><code>&lt;div class=&quot;customer_custom&quot;&gt;
    &lt;img src=&quot;http://ada.noctiuniversity.com/media/wysiwyg/1920x80.jpg&quot; alt=&quot;&quot; style=&quot;width:100%;&quot;&gt;
&lt;/div&gt;</code></pre>
<p>好的，这里就算是在网站的头部添加了一个图片，这个图片贯穿于网站的所有页面的顶部。</p>
<p>效果如下：</p>
<p><img src="https://i.imgur.com/k2VMCMh.png"></p>
<p>可是，如果我们仅仅是想让首页显示这个效果怎么办？</p>
<hr>
<p>那么我们就可以放弃以上这个方式。</p>
<p>正确的方式如下：</p>
<p>我们找到首页的page页面，然后来到Design里面的Custom Design，然后通过在layout中调用静态块的方法进行个性化定制。代码如下：</p>
<pre><code>&lt;reference name=&quot;head&quot;&gt;  
    &lt;block type=&quot;cms/block&quot; name=&quot;test_block&quot; before=&quot;-&quot;&gt;  
        &lt;action method=&quot;setBlockId&quot;&gt;&lt;block_id&gt;test_block&lt;/block_id&gt;&lt;/action&gt;  
    &lt;/block&gt;      
&lt;/reference&gt;</code></pre>
<p>这里解释下：笔者这里重新新建了一个静态的模块，命名为：test block.</p>
<blockquote>
<p>Block Title :test block</p>
<p>Identifier :test block</p>
<p>Status :Enabled</p>
<p>Content :自定义内容</p>
</blockquote>
<p>这里的自定义内容为：</p>
<blockquote>
<p>得不到的永远在骚动，安享晚年的资本，不努力如何自有选择。</p>
</blockquote>
<p><img src="https://i.imgur.com/YzbrI1k.png"></p>
<p>这样的话，在首页的顶部效果如下：</p>
<p><img src="https://i.imgur.com/dgF6f0s.png"></p>
<p>好的，作为总结，笔者这里提醒的是，这种方法能够灵活运用的话，需要对这个主题模板非常熟悉，我们需要知道这个钩子在哪里，这里的钩子就是<code>name=&quot;head&quot;</code>，如果加在其他的地方，就需要我们对magento的充分了解。这个可以去local.xml找到参考。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/12/Magento%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E5%9B%BE%E7%89%87%EF%BC%8C%E6%88%96%E8%80%85%E7%BC%A9%E7%95%A5%E5%9B%BE-getImage-%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/12/Magento%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E5%9B%BE%E7%89%87%EF%BC%8C%E6%88%96%E8%80%85%E7%BC%A9%E7%95%A5%E5%9B%BE-getImage-%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Magento获取商品图片，或者缩略图(getImage)的方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-12 20:14:55" itemprop="dateCreated datePublished" datetime="2018-06-12T20:14:55+08:00">2018-06-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:01" itemprop="dateModified" datetime="2020-10-11T11:58:01+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文转自一个网友的，笔者在这里申明，仅仅作为自己参考需要，如有侵权，请联系笔者删除。</p>
<p>获取图片方法不重要，重要的是你要理解获取图片的整个过程，下面我就将获取图片的整个过程代码写一下：</p>
<pre><code>$product = Mage::getModel(&#39;catalog/product&#39;)-&gt;load($product_id);

//直接获取商品的图片
$mainImageUrl = (string)Mage::helper(&#39;catalog/image&#39;)-&gt;init($product, &#39;image&#39;)-&gt;resize(600, 600);

//获取可配置商品下的图片
$productImages = $product-&gt;getMediaGalleryImages();
foreach ($productImages as $image) &#123;
    if($product-&gt;getImage() == $image-&gt;getFile())&#123;
        continue;
    &#125;
    $iu =  (string) Mage::helper(&#39;catalog/image&#39;)-&gt;init($product, &#39;image&#39;, $image-&gt;getFile())-&gt;resize(600,600);
    $imgUrls[] = $iu;
&#125;</code></pre>
<p>$product-&gt;getMediaGalleryImages();</p>
<pre><code>/**
     * Retrive media gallery images
     *
     * @return Varien_Data_Collection
     */
public function getMediaGalleryImages()
&#123;
    if(!$this-&gt;hasData(&#39;media_gallery_images&#39;) &amp;&amp; is_array($this-&gt;getMediaGallery(&#39;images&#39;))) &#123;
        $images = new Varien_Data_Collection();
        foreach ($this-&gt;getMediaGallery(&#39;images&#39;) as $image) &#123;
            if ($image[&#39;disabled&#39;]) &#123;
                continue;
            &#125;
            $image[&#39;url&#39;] = $this-&gt;getMediaConfig()-&gt;getMediaUrl($image[&#39;file&#39;]);
            $image[&#39;id&#39;] = isset($image[&#39;value_id&#39;]) ? $image[&#39;value_id&#39;] : null;
            $image[&#39;path&#39;] = $this-&gt;getMediaConfig()-&gt;getMediaPath($image[&#39;file&#39;]);
            $images-&gt;addItem(new Varien_Object($image));
        &#125;
        $this-&gt;setData(&#39;media_gallery_images&#39;, $images);
    &#125;

    return $this-&gt;getData(&#39;media_gallery_images&#39;);
&#125;</code></pre>
<p>$this-&gt;getMediaConfig()</p>
<pre><code>/**
     * Retrive product media config
     *
     * @return Mage_Catalog_Model_Product_Media_Config
     */
public function getMediaConfig()
&#123;
    return Mage::getSingleton(&#39;catalog/product_media_config&#39;);
&#125;</code></pre>
<p>getMediaUrl():</p>
<pre><code>public function getMediaUrl($file)
&#123;
    $file = $this-&gt;_prepareFileForUrl($file);

    if(substr($file, 0, 1) == &#39;/&#39;) &#123;
        return $this-&gt;getBaseMediaUrl() . $file;
    &#125;

    return $this-&gt;getBaseMediaUrl() . &#39;/&#39; . $file;
&#125;</code></pre>
<p>getMediaPath():</p>
<pre><code>public function getMediaPath($file)
&#123;
    $file = $this-&gt;_prepareFileForPath($file);

    if(substr($file, 0, 1) == DS) &#123;
        return $this-&gt;getBaseMediaPath() . DS . substr($file, 1);
    &#125;

    return $this-&gt;getBaseMediaPath() . DS . $file;
&#125;</code></pre>
<p>Mage::helper(‘catalog/image’)-&gt;init():</p>
<pre><code>public function init(Mage_Catalog_Model_Product $product, $attributeName, $imageFile=null)
&#123;
    if($this-&gt;_ossEnable)&#123;
        $this-&gt;_setModel(Mage::getModel(&#39;catalog/product_image&#39;));
        $domin = Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA);
        $prefix = &#39;catalog/product&#39;;
        if(!$imageFile)&#123;
            $imageFile = $product-&gt;getData($attributeName);
        &#125;            
        $this-&gt;_imageUrl = $domin.$prefix.$imageFile;
        return $this;
    &#125;else&#123;
        return parent::init($product, $attributeName,$imageFile);
    &#125;

&#125;</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/12/magento%E8%8E%B7%E5%8F%96%E4%BA%A7%E5%93%81%E5%88%86%E7%B1%BB%E5%8F%8A%E5%85%B6%E5%AD%90%E5%88%86%E7%B1%BB%EF%BC%8C%E8%8F%9C%E5%8D%95%E6%A0%8F%E5%88%86%E7%B1%BB%E6%98%BE%E7%A4%BA%E4%BD%8D%E7%BD%AE%E7%AD%89%E5%A4%9A%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%BE%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/12/magento%E8%8E%B7%E5%8F%96%E4%BA%A7%E5%93%81%E5%88%86%E7%B1%BB%E5%8F%8A%E5%85%B6%E5%AD%90%E5%88%86%E7%B1%BB%EF%BC%8C%E8%8F%9C%E5%8D%95%E6%A0%8F%E5%88%86%E7%B1%BB%E6%98%BE%E7%A4%BA%E4%BD%8D%E7%BD%AE%E7%AD%89%E5%A4%9A%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%BE%E4%BE%8B/" class="post-title-link" itemprop="url">magento获取产品分类及其子分类，菜单栏分类显示位置等多种情况举例</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-12 19:17:59" itemprop="dateCreated datePublished" datetime="2018-06-12T19:17:59+08:00">2018-06-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:01" itemprop="dateModified" datetime="2020-10-11T11:58:01+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1.获取指定分类id 下的子分类</p>
<p>// 例如获取 分类id为 13 的子分类信息</p>
<pre><code>&lt;?php  
$root = Mage::getModel(&#39;catalog/category&#39;)-&gt;load(13);  
$subCat = explode(&#39;,&#39;,$root-&gt;getChildren());  

$collection  = $root  
            -&gt;getCollection()  
            -&gt;addAttributeToSelect(&quot;*&quot;)  
            -&gt;addFieldToFilter(&quot;entity_id&quot;, array(&quot;in&quot;, $subCat) );  

foreach($collection as $catname)&#123;  
echo $catname-&gt;getName();  

echo &#39;&lt;br&gt;&#39;;  

echo $catname-&gt;getUrl();  

&#125;
echo &#39;&lt;br&gt;&#39;; 
?&gt; 

//echo $catname-&gt;getProductCount();   //获取目录下的产品数量  
//echo $catname-&gt;getChildrenCount();  //获取目录下子目录数量</code></pre>
<p>2.显示所有分类和子分类</p>
<pre><code>&lt;?php $_helper = Mage::helper(&#39;catalog/category&#39;) ?&gt;  
&lt;?php $_categories = $_helper-&gt;getStoreCategories() ?&gt;  
&lt;?php if (count($_categories) &gt; 0): ?&gt;  
    &lt;ul&gt;  
        &lt;?php foreach($_categories as $_category): ?&gt;  
            &lt;li&gt;  
                &lt;a href=&quot;&lt;?php echo $_helper-&gt;getCategoryUrl($_category) ?&gt;&quot;&gt;  
                    &lt;?php echo $_category-&gt;getName() ?&gt;  
                &lt;/a&gt;  
                &lt;?php $_category = Mage::getModel(&#39;catalog/category&#39;)-&gt;load($_category-&gt;getId()) ?&gt;  
                &lt;?php $_subcategories = $_category-&gt;getChildrenCategories() ?&gt;  
                &lt;?php if (count($_subcategories) &gt; 0): ?&gt;  
                    &lt;ul&gt;  
                        &lt;?php foreach($_subcategories as $_subcategory): ?&gt;  
                            &lt;li&gt;  
                                &lt;a href=&quot;&lt;?php echo $_helper-&gt;getCategoryUrl($_subcategory) ?&gt;&quot;&gt;  
                                    &lt;?php echo $_subcategory-&gt;getName() ?&gt;  
                                &lt;/a&gt;  
                            &lt;/li&gt;  
                        &lt;?php endforeach; ?&gt;  
                    &lt;/ul&gt;  
                &lt;?php endif; ?&gt;  
            &lt;/li&gt;  
        &lt;?php endforeach; ?&gt;  
    &lt;/ul&gt;  
&lt;?php endif; ?&gt;</code></pre>
<p>3.获取所有的一级分类信息</p>
<pre><code>&lt;?php $_helper = Mage::helper(&#39;catalog/category&#39;) ?&gt;  
&lt;?php $_categories = $_helper-&gt;getStoreCategories() ?&gt;  
&lt;?php if (count($_categories) &gt; 0): ?&gt;  
    &lt;ul&gt;  
        &lt;?php foreach($_categories as $_category): ?&gt;  
            &lt;li&gt;  
                &lt;a href=&quot;&lt;?php echo $_helper-&gt;getCategoryUrl($_category) ?&gt;&quot;&gt;  
                    &lt;?php echo $_category-&gt;getName() ?&gt;  
                &lt;/a&gt;  
            &lt;/li&gt;  
        &lt;?php endforeach; ?&gt;  
    &lt;/ul&gt;  
&lt;?php endif; ?&gt;</code></pre>
<p>4.获取所有的一级分类和当前分类的子分类信息</p>
<pre><code>&lt;?php $_helper = Mage::helper(&#39;catalog/category&#39;) ?&gt;  
&lt;?php $_categories = $_helper-&gt;getStoreCategories() ?&gt;  
&lt;?php $currentCategory = Mage::registry(&#39;current_category&#39;) ?&gt;  
&lt;?php if (count($_categories) &gt; 0): ?&gt;  
    &lt;ul&gt;  
        &lt;?php foreach($_categories as $_category): ?&gt;  
            &lt;li&gt;  
                &lt;a href=&quot;&lt;?php echo $_helper-&gt;getCategoryUrl($_category) ?&gt;&quot;&gt;  
                    &lt;?php echo $_category-&gt;getName() ?&gt;  
                &lt;/a&gt;  
                &lt;?php if ($currentCategory &amp;&amp; $currentCategory-&gt;getId() == $_category-&gt;getId()): ?&gt;  
                    &lt;?php $_category = Mage::getModel(&#39;catalog/category&#39;)-&gt;load($_category-&gt;getId()) ?&gt;  
                    &lt;?php $_subcategories = $_category-&gt;getChildrenCategories() ?&gt;  
                    &lt;?php if (count($_subcategories) &gt; 0): ?&gt;  
                        &lt;ul&gt;  
                            &lt;?php foreach($_subcategories as $_subcategory): ?&gt;  
                                &lt;li&gt;  
                                    &lt;a href=&quot;&lt;?php echo $_helper-&gt;getCategoryUrl($_subcategory) ?&gt;&quot;&gt;  
                                        &lt;?php echo $_subcategory-&gt;getName() ?&gt;  
                                    &lt;/a&gt;  
                                &lt;/li&gt;  
                            &lt;?php endforeach; ?&gt;  
                        &lt;/ul&gt;  
                    &lt;?php endif; ?&gt;  
                &lt;?php endif; ?&gt;  
            &lt;/li&gt;  
        &lt;?php endforeach; ?&gt;  
    &lt;/ul&gt;  
&lt;?php endif; ?&gt;</code></pre>
<p>笔者这里进行实战演示：</p>
<p><img src="https://i.imgur.com/fnnJqfH.jpg"></p>
<p>这里笔者这里建了一个自定义的菜单，仅仅用作测试，自定义菜单的分类ID为119.</p>
<p>由于笔者这里采用的是porto的主题，所以笔者找到一个侧边栏的菜单所在的文件目录地址：app/design/frontend/smartwave/porto/template/smartwave/megamenu/html/</p>
<p>这个里面控制了侧边栏的菜单显示内容，如何调用呢？这个时候我们由于在首页调用，所以我们首页的调用代码如下：</p>
<pre><code>&lt;div class=&quot;col-md-3&quot; style=&quot;padding:0 10px;&quot;&gt;
    &lt;div class=&quot;home-side-menu&quot; style=&quot;margin-bottom:20px;&quot;&gt;
        &lt;h2 class=&quot;side-menu-title&quot;&gt;CATEGORIES&lt;/h2&gt;
        &#123;&#123;block type="core/template" template="smartwave/megamenu/html/sidemenu.phtml"&#125;&#125;
        &#123;&#123;block type="core/template" template="smartwave/megamenu/html/sidemobilemenu.phtml"&#125;&#125;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>看到了吗？上面就是控制侧边了的模板文件，一个是PC版的，另外一个是手机版的模板文件。</p>
<p>这个时候，我们如果不做任何修改的话，调用出来的效果就是这样的：</p>
<p><img src="https://i.imgur.com/9QpmSzH.jpg"></p>
<p>看到这个了吗，这两个是一样的，都是调用后台的菜单里面的东西，那么如果我们自定义另外一个菜单该怎么让我们自定义的菜单显示在左边的侧边栏那里，水平的菜单显示默认的菜单内容呢？</p>
<p>这个时候我们就需要对侧边栏这个做一个改造了。根据这个截图，我们看到：</p>
<p><img src="https://i.imgur.com/fnnJqfH.jpg"></p>
<p>然后在sidemenu.phtml这个文件里面写如下代码：</p>
<pre><code>&lt;?php  
    $root = Mage::getModel(&#39;catalog/category&#39;)-&gt;load(119);  
    $subCat = explode(&#39;,&#39;,$root-&gt;getChildren());  

    $collection  = $root
                -&gt;getCollection()
                -&gt;addAttributeToSelect(&quot;*&quot;)
                -&gt;addFieldToFilter(&quot;entity_id&quot;, array(&quot;in&quot;, $subCat) );

    echo &quot;&lt;ul class=&#39;menu side-menu mysegm&#39;&gt;&quot;;
    foreach($collection as $catname)&#123;
    echo &quot;&lt;li&gt;&quot;;
    echo &quot;&lt;a href=&quot;.$catname-&gt;getUrl().&quot;&gt;&quot;.$catname-&gt;getName().&quot;&lt;/a&gt;&quot;;
    echo &quot;&lt;/li&gt;&quot;;
    &#125;
    echo &quot;&lt;/ul&gt;&quot;;
?&gt;</code></pre>
<p>第二种写法如下：</p>
<pre><code>&lt;?php  
    $mo=Mage::getModel(&#39;catalog/category&#39;);  
    $id=119;  
    $mode=$mo-&gt;loadByAttribute(&#39;entity_id&#39;,$id);  //这里是设置条件、根据类目实体ID 查询  
    //$mode=$mo-&gt;loadByAttribute(&#39;name&#39;,&#39;Electronics&#39;);   
    //这个是 根据类目名称查询、这两个条件二选一。  
    if($mode-&gt;hasChildren()) &#123;  
    $id = $mode-&gt;getChildren();  
    $subCategories = Mage::getModel(&#39;catalog/category&#39;)-&gt;getCollection();
    $subCategories-&gt;getSelect()-&gt;where(&quot;e.entity_id in ($id)&quot;);
    $subCategories-&gt;addAttributeToSelect(&#39;*&#39;);
    $subCategories-&gt;load();
    &#125;
?&gt;
&lt;?php  
foreach($subCategories as $cate): ?&gt;  
    &lt;li&gt;&lt;a href=&quot;&lt;?php echo $cate-&gt;getUrl();?&gt;&quot;&gt;&lt;?=$cate[&#39;name&#39;]?&gt;&lt;/a&gt;&lt;/li&gt;     
&lt;?php endforeach; ?&gt;</code></pre>
<p>显示ID为119的分类菜单的目录，最后的效果如下：</p>
<p><img src="https://i.imgur.com/kMZxseu.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/12/magento%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BD%AE%E6%92%AD-%E5%B9%BB%E7%81%AF%E7%89%87-owlcarousel%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/12/magento%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BD%AE%E6%92%AD-%E5%B9%BB%E7%81%AF%E7%89%87-owlcarousel%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">magento常用的轮播(幻灯片)owlcarousel插件(slider)配置方法详解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-12 10:30:50" itemprop="dateCreated datePublished" datetime="2018-06-12T10:30:50+08:00">2018-06-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:00" itemprop="dateModified" datetime="2020-10-11T11:58:00+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="How-To-Use"><a href="#How-To-Use" class="headerlink" title="How To Use"></a>How To Use</h2><p><strong>1. Load jQuery and include Owl Carousel plugin files</strong></p>
<p>To use Owl Carousel, you’ll need to make sure both the Owl and jQuery 1.7 or higher scripts are included.</p>
<pre><code>&lt;!-- Important Owl stylesheet --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;owl-carousel/owl.carousel.css&quot;&gt;

&lt;!-- Default Theme --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;owl-carousel/owl.theme.css&quot;&gt;

&lt;!--  jQuery 1.7+  --&gt;
&lt;script src=&quot;jquery-1.9.1.min.js&quot;&gt;&lt;/script&gt;

&lt;!-- Include js plugin --&gt;
&lt;script src=&quot;assets/owl-carousel/owl.carousel.js&quot;&gt;&lt;/script&gt;</code></pre>
<p><strong>2. Set up your HTML</strong></p>
<p>You don’t need any special markup. All you need is to wrap your divs(owl works with any type element) inside the container element <code>&lt;div class=&quot;owl-carousel&quot;&gt;</code>. Class “owl-carousel” is mandatory to apply proper styles that come from owl.carousel.css file.</p>
<pre><code>&lt;div id=&quot;owl-example&quot; class=&quot;owl-carousel&quot;&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  &lt;div&gt; Your Content &lt;/div&gt;
  ...
&lt;/div&gt;</code></pre>
<p>或者是以图片的方式进行轮播：</p>
<pre><code>&lt;div id=&quot;owl-demo&quot; class=&quot;owl-carousel&quot;&gt; 
    &lt;a class=&quot;item&quot;&gt;&lt;img src=&quot;img/owl1.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt; 
    &lt;a class=&quot;item&quot;&gt;&lt;img src=&quot;img/owl2.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt; 
    &lt;a class=&quot;item&quot;&gt;&lt;img src=&quot;img/owl3.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt; 
    ...... 
&lt;/div&gt;</code></pre>
<p><strong>3. Call the plugin</strong></p>
<p>Now call the Owl initializer function and your carousel is ready.</p>
<pre><code>$(document).ready(function() &#123;
  $(&quot;#owl-example&quot;).owlCarousel();
&#125;);</code></pre>
<p><strong>2. Defaults</strong></p>
<p>Carousel default settings</p>
<pre><code>$(&quot;#owl-example&quot;).owlCarousel(&#123;

    // Most important owl features
    items : 5,
    itemsCustom : false,
    itemsDesktop : [1199,4],
    itemsDesktopSmall : [980,3],
    itemsTablet: [768,2],
    itemsTabletSmall: false,
    itemsMobile : [479,1],
    singleItem : false,
    itemsScaleUp : false,

    //Basic Speeds
    slideSpeed : 200,
    paginationSpeed : 800,
    rewindSpeed : 1000,

    //Autoplay
    autoPlay : false,
    stopOnHover : false,

    // Navigation
    navigation : false,
    navigationText : [&quot;prev&quot;,&quot;next&quot;],
    rewindNav : true,
    scrollPerPage : false,

    //Pagination
    pagination : true,
    paginationNumbers: false,

    // Responsive 
    responsive: true,
    responsiveRefreshRate : 200,
    responsiveBaseWidth: window,

    // CSS Styles
    baseClass : &quot;owl-carousel&quot;,
    theme : &quot;owl-theme&quot;,

    //Lazy load
    lazyLoad : false,
    lazyFollow : true,
    lazyEffect : &quot;fade&quot;,

    //Auto height
    autoHeight : false,

    //JSON 
    jsonPath : false, 
    jsonSuccess : false,

    //Mouse Events
    dragBeforeAnimFinish : true,
    mouseDrag : true,
    touchDrag : true,

    //Transitions
    transitionStyle : false,

    // Other
    addClassActive : false,

    //Callbacks
    beforeUpdate : false,
    afterUpdate : false,
    beforeInit: false, 
    afterInit: false, 
    beforeMove: false, 
    afterMove: false,
    afterAction: false,
    startDragging : false
    afterLazyLoad : false

&#125;)</code></pre>
<p><strong>4. Custom Events</strong></p>
<p>Owl Carousel handles a few basic events. Mainly use them for custom navigation. <a target="_blank" rel="noopener" href="http://demo.lanrenzhijia.com/2013/pic1201/demos/custom.html">See Demo</a></p>
<pre><code>&quot;owl.prev&quot; //Go to previous
&quot;owl.next&quot; //Go to next
&quot;owl.play&quot; //Autoplay, also this event accept autoPlay speed as second parameter
&quot;owl.stop&quot; //Stop
&quot;owl.goTo&quot; //goTo provided item
&quot;owl.jumpTo&quot; //jumpTo provided item. Without slide animation.</code></pre>
<p><strong>5. Owl Data methods</strong></p>
<p>To use Owl Carousel $.data use delegate function.</p>
<pre><code>//Initialize Plugin
$(&quot;.owl-carousel&quot;).owlCarousel()

//get carousel instance data and store it in variable owl
var owl = $(&quot;.owl-carousel&quot;).data(&#39;owlCarousel&#39;);

//Public methods
owl.next()   // Go to next slide
owl.prev()   // Go to previous slide
owl.goTo(x)  // Go to x slide
owl.jumpTo(x)  // Go to x slide without slide animation

//Auto Play
owl.play() // Autoplay
owl.stop() // Autoplay Stop

//Manipulation methods. See demo.
owl.addItem(htmlString [,targetPosition])
owl.removeItem(targetPosition)
owl.destroy()
owl.reinit(newOptions)</code></pre>
<p>更多可以查看官网：<a target="_blank" rel="noopener" href="http://owlcarousel2.github.io/OwlCarousel2/demos/responsive.html">http://owlcarousel2.github.io/OwlCarousel2/demos/responsive.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/07/magento%E7%9A%84addthis%E7%A4%BE%E4%BA%A4%E5%AA%92%E4%BD%93%E6%8F%92%E4%BB%B6%E4%BE%A7%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/07/magento%E7%9A%84addthis%E7%A4%BE%E4%BA%A4%E5%AA%92%E4%BD%93%E6%8F%92%E4%BB%B6%E4%BE%A7%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">magento的addthis社交媒体插件侧使用配置方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-07 15:20:38" itemprop="dateCreated datePublished" datetime="2018-06-07T15:20:38+08:00">2018-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:01" itemprop="dateModified" datetime="2020-10-11T11:58:01+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>先看图：</p>
<p><img src="https://i.imgur.com/cQVQYOa.png"></p>
<p>这个是悬浮在侧边的一个社交媒体，笔者在测试网站的时候，开始找了很久，发现这个是来自一个插件，大名鼎鼎的：<a target="_blank" rel="noopener" href="https://www.addthis.com/academy/smart-layers-api/">addthis</a></p>
<p>为了以后更加方便的运用这个东西，这里做个笔记。</p>
<p>我们来到magento的后台，System—Configuration—ADDTHIS—Smart Layers，当然前提是你安装过这个插件，默认的magento后台是没有这个的。</p>
<p>然后来到最底部：</p>
<p><img src="https://i.imgur.com/ox73RCF.png"></p>
<p>这个是自定义代码配置，这样就较灵活。具体配置可以参考这个链接：<a target="_blank" rel="noopener" href="https://www.addthis.com/academy/smart-layers-api/">https://www.addthis.com/academy/smart-layers-api/</a>，为了更加方便的阅读，笔者这里粘贴其中一个比较完整的配置：</p>
<pre><code>addthis.layers(&#123;
    &#39;theme&#39; : &#39;transparent&#39;,
    &#39;domain&#39; : &#39;www.mysite.com&#39;,
    &#39;linkFilter&#39; : function(link, layer) &#123;
        console.log(link.title + &#39; - &#39; + link.url + &quot; - &quot; + layer);
        return link;
    &#125;,
    &#39;responsive&#39; : &#123;
      &#39;maxWidth&#39; : &#39;979px&#39;,
      &#39;minWidth&#39; : &#39;0px&#39;
    &#125;,
    &#39;share&#39; : &#123;
        &#39;position&#39; : &#39;right&#39;,
        &#39;services&#39; : &#39;facebook,twitter,email,print,more&#39;,
        //&#39;numPreferredServices&#39; : 5,
        &#39;postShareTitle&#39; : &#39;Thanks for sharing!&#39;,
        &#39;postShareFollowMsg&#39; : &#39;Follow us&#39;,
        &#39;postShareRecommendedMsg&#39; : &#39;Recommended for you&#39;,
        &#39;desktop&#39; : true,
        &#39;mobile&#39; : true,
        &#39;theme&#39; : &#39;transparent&#39;
    &#125;,
    &#39;follow&#39; : &#123;
        &#39;services&#39; : [
            &#123;&#39;service&#39; : &#39;facebook&#39;, &#39;id&#39; : &#39;AddThis&#39;&#125;,
            &#123;&#39;service&#39; : &#39;twitter&#39;, &#39;id&#39; : &#39;AddThis&#39;&#125;
        ],
        &#39;title&#39; : &#39;Follow&#39;,
        &#39;postFollowTitle&#39; : &#39;Thanks for following!&#39;,
        &#39;postFollowRecommendedMsg&#39; : &#39;Recommended for you&#39;,
        &#39;mobile&#39; : true,
        &#39;desktop&#39; : true,
        &#39;theme&#39; : &#39;transparent&#39;
    &#125;,
    &#39;whatsnext&#39; : &#123;
        &#39;recommendedTitle&#39; : &#39;Recommended for you&#39;,
        &#39;shareMsg&#39; : &#39;Share to [x]&#39;,
        &#39;followMsg&#39; : &#39;Follow us on [x]&#39;,
        &#39;theme&#39; : &#39;transparent&#39;,
        &#39;desktop&#39; : true
    &#125;,
    &#39;recommended&#39; : &#123;
        &#39;title&#39; : &#39;Recommended for you&#39;,
        &#39;mobile&#39; : true,
        &#39;desktop&#39; : true,
        &#39;theme&#39; : &#39;transparent&#39;
    &#125;,
    &#39;mobile&#39; : &#123;
        &#39;buttonBarPosition&#39; : &#39;top&#39;,
        &#39;buttonBarTheme&#39; : &#39;transparent&#39;,
        &#39;mobile&#39; : true
    &#125;
&#125;);</code></pre>
<p>最后的效果如下：</p>
<p><img src="https://i.imgur.com/Jj0eCDb.png"></p>
<p>当然根据自己的需求进行配置是最好的。笔者不太喜欢上面的那个follow，那么我们就可以对上面的那个代码进行瘦身。最后笔者的代码如下：</p>
<pre><code>addthis.layers(&#123;
    &#39;theme&#39; : &#39;transparent&#39;,    //社交媒体的风格主题
    &#39;share&#39; : &#123;
        &#39;position&#39; : &#39;right&#39;,  //显示的位置，默认是左边，这里选择的是右边
        &#39;services&#39; : &#39;facebook,twitter,linkedin,google_plusone_share,pinterest_share&#39;  //显示哪些社交媒体
    &#125;,
    &#39;responsive&#39; : &#123;    //自适应设置，宽度在979px以下就不显示社交媒体悬浮按钮组
      &#39;maxWidth&#39; : &#39;979px&#39;,
      &#39;minWidth&#39; : &#39;0px&#39;
    &#125;,
    &#39;whatsnext&#39; : &#123;&#125;,
    &#39;recommended&#39; : &#123;&#125;
&#125;);</code></pre>
<p>最后的效果是：</p>
<p><img src="https://i.imgur.com/cQVQYOa.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/07/jquery%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%8C%E9%9A%90%E8%97%8F%E5%85%B6%E4%BB%96%E4%B8%8D%E7%9B%B8%E5%85%B3%E7%9A%84%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%8C%E6%88%96%E8%80%85%E6%98%AF%E5%BD%93%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E5%86%85%E5%AE%B9%E5%8F%91%E7%94%9F%E5%8F%98%E5%8C%96%E5%90%8E%E9%9A%90%E8%97%8F%E5%85%B6%E4%BB%96%E4%B8%8D%E7%9B%B8%E5%85%B3%E7%9A%84%E5%85%83%E7%B4%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/07/jquery%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%8C%E9%9A%90%E8%97%8F%E5%85%B6%E4%BB%96%E4%B8%8D%E7%9B%B8%E5%85%B3%E7%9A%84%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%8C%E6%88%96%E8%80%85%E6%98%AF%E5%BD%93%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E5%86%85%E5%AE%B9%E5%8F%91%E7%94%9F%E5%8F%98%E5%8C%96%E5%90%8E%E9%9A%90%E8%97%8F%E5%85%B6%E4%BB%96%E4%B8%8D%E7%9B%B8%E5%85%B3%E7%9A%84%E5%85%83%E7%B4%A0/" class="post-title-link" itemprop="url">jquery实现选择某个元素，隐藏其他不相关的输入框，或者是当输入框的内容发生变化后隐藏其他不相关的元素</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-07 14:10:31" itemprop="dateCreated datePublished" datetime="2018-06-07T14:10:31+08:00">2018-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:57:58" itemprop="dateModified" datetime="2020-10-11T11:57:58+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>直接了当的说吧，举例：</p>
<p><img src="https://i.imgur.com/wVgPAej.png"></p>
<p>比如，当我们选择充值套餐中的某一个的时候，也就是A中的区块中的某个子集被选择了，那么定制套餐这个地方就会被隐藏，因为不相关嘛，多了这么重复的，引起不必要的误会。</p>
<p>又比如，当我们选择B区域，输入自定义套餐的时候，那么A区域就没必要显示了，道理是一样的，重复了，A和B区域是相互补充的，选择他们中的任何一个，那么另外一个需要隐藏。</p>
<p>所以实现代码如下：</p>
<p>先引入jquery，然后编写js代码，最后总体如下：</p>
<pre><code>&lt;script src=&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
    $(function()&#123;
    $(&quot;#taocan li&quot;).click(function()&#123;
        $(this).addClass(&#39;active&#39;).siblings().removeClass(&#39;active&#39;);
        if ($(this).hasClass(&#39;active&#39;)) &#123;
            $(&quot;#custom_taocan&quot;).addClass(&#39;displaynone&#39;);
        &#125;
    &#125;);
    $(&quot;#custom_taocan&quot;).bind(&#39;input propertychange&#39;, function() &#123;
        searchProductClassbyName();
    &#125;);
    function searchProductClassbyName() &#123;
       $(&quot;#taocan&quot;).addClass(&#39;displaynone&#39;);
    &#125;
    &#125;)
&lt;/script&gt;</code></pre>
<p>相应的HTML代码如下：</p>
<pre><code>&lt;div id=&quot;taocan&quot;&gt;
    &lt;h3 class=&quot;h3biaoti&quot;&gt;请选择要充值的套餐&lt;/h3&gt;
    &lt;ul class=&quot;taocan&quot;&gt;
        &lt;li&gt;&lt;span class=&quot;money&quot;&gt;&lt;b id=&quot;ten&quot;&gt;10&lt;/b&gt;元&lt;/span&gt;&lt;span class=&quot;mobilehidden&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;times&quot;&gt;&lt;b id=&quot;two&quot;&gt;2&lt;/b&gt;条&lt;/span&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span class=&quot;money&quot;&gt;&lt;b id=&quot;twentyfive&quot;&gt;25&lt;/b&gt;元&lt;/span&gt;&lt;span class=&quot;mobilehidden&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;times&quot;&gt;&lt;b id=&quot;five&quot;&gt;5&lt;/b&gt;条&lt;/span&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span class=&quot;money&quot;&gt;&lt;b id=&quot;fifty&quot;&gt;50&lt;/b&gt;元&lt;/span&gt;&lt;span class=&quot;mobilehidden&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;times&quot;&gt;&lt;b id=&quot;ten&quot;&gt;10&lt;/b&gt;条&lt;/span&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span class=&quot;money&quot;&gt;&lt;b id=&quot;hundred&quot;&gt;100&lt;/b&gt;元&lt;/span&gt;&lt;span class=&quot;mobilehidden&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;times&quot;&gt;&lt;b id=&quot;twenty&quot;&gt;20&lt;/b&gt;条&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;custom_taocan&quot;&gt;
    &lt;h3&gt;定制充值套餐：&lt;/h3&gt;
    &lt;div class=&quot;input-group input-group-lg&quot;&gt;
        &lt;span class=&quot;input-group-addon&quot; id=&quot;sizing-addon1&quot;&gt;5元/条&lt;/span&gt;
        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; oninput=&quot;OnInput(event)&quot; onpropertychange=&quot;OnPropChanged(event)&quot; onkeyup=&quot;this.value=this.value.replace(/[^\d]/g,&#39;&#39;) &quot; onafterpaste=&quot;this.value=this.value.replace(/[^\d]/g,&#39;&#39;) &quot; name=&quot;f_order&quot; value=&quot;&quot; placeholder=&quot;输入内容&quot;/&gt;
    &lt;/div&gt;
    &lt;br&gt;
    &lt;div class=&quot;alert alert-warning&quot;&gt;
        &lt;p&gt;支付总额 &lt;span class=&quot;money&quot; id=&quot;totals&quot;&gt;&lt;/span&gt; 元
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>顺便说下：笔者这里为了界面好看点，采用了bootstrap，但是是否引入这个框架都不会影响目前的功能。</p>
<p>好的，刚才上面的那个js里面会动态添加class，那么这些class的样式如下：</p>
<pre><code>.active&#123;
    border:1px solid red;
    transition:0.8s ease;
&#125;
.deactive&#123;
    border:1px solid #ccc;
&#125;
.displaynone&#123;
    display: none !important;
&#125;</code></pre>
<p>最后总体效果：</p>
<p>当输入框被激活后，输入内容，那么上面的那个区域会被隐藏：</p>
<p><img src="https://i.imgur.com/TYZxJxA.png"></p>
<p>当选择上面的那个区域的时候，其中的某项被选中，那么下面的输入框会被隐藏：</p>
<p><img src="https://i.imgur.com/4CuG8XH.png"></p>
<p>是不是很简单，到此为止。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/06/jquery%E6%88%96%E8%80%85javascript%E5%AE%9E%E7%8E%B0div%E6%BB%9A%E5%8A%A8%E8%87%B3%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A1%B6%E9%83%A8%E4%BD%8D%E7%BD%AE%E5%9B%BA%E5%AE%9A%EF%BC%8C%E5%BD%93div%E6%BB%9A%E5%8A%A8%E4%B8%8B%E6%9D%A5%E5%90%8E%E5%8F%88%E5%9B%9E%E5%88%B0%E5%8E%9F%E5%A7%8B%E7%8A%B6%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/06/jquery%E6%88%96%E8%80%85javascript%E5%AE%9E%E7%8E%B0div%E6%BB%9A%E5%8A%A8%E8%87%B3%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A1%B6%E9%83%A8%E4%BD%8D%E7%BD%AE%E5%9B%BA%E5%AE%9A%EF%BC%8C%E5%BD%93div%E6%BB%9A%E5%8A%A8%E4%B8%8B%E6%9D%A5%E5%90%8E%E5%8F%88%E5%9B%9E%E5%88%B0%E5%8E%9F%E5%A7%8B%E7%8A%B6%E6%80%81/" class="post-title-link" itemprop="url">jquery或者javascript实现div滚动至浏览器顶部位置固定，以及横向滚动条和表格手机版美化的问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-06 16:05:16" itemprop="dateCreated datePublished" datetime="2018-06-06T16:05:16+08:00">2018-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:57:58" itemprop="dateModified" datetime="2020-10-11T11:57:58+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>有客户经常问这么一个问题：能否让一个网站的某个地方，当随着鼠标把这个div滚动到顶部的时候，这个div会固定到顶部，当我们操作鼠标把这个div往下滚动的时候，这个元素取消固定到顶部，回到原来的位置。</p>
<p><strong>通常的做法：</strong></p>
<p>我们采用javascript或者jquery的方式，首先我们需要引入jquery。这里我们以在wordpress的主题enfold主题上作为案例讲解。</p>
<p>为了全局引用，我们在公共头部文件（header.php）引入代码如下：</p>
<pre><code>&lt;script src=&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    $(function()&#123;
        //获取要定位元素距离浏览器顶部的距离
        var navH = $(&quot;#sub_menu1&quot;).offset().top;

        //滚动条事件
        $(window).scroll(function()&#123;
            //获取滚动条的滑动距离
            var scroH = $(this).scrollTop();
            //滚动条的滑动距离大于等于定位元素距离浏览器顶部的距离，就固定，反之就不固定
            if(scroH&gt;=navH)&#123;
                $(&quot;#sub_menu1&quot;).addClass(&quot;mobilefixed&quot;);
                $(&quot;.mytables&quot;).addClass(&quot;paddingtopmore&quot;);
            &#125;else if(scroH&lt;navH)&#123;
                $(&quot;#sub_menu1&quot;).removeClass(&quot;mobilefixed&quot;);
                $(&quot;.mytables&quot;).removeClass(&quot;paddingtopmore&quot;);
            &#125;
        &#125;)
    &#125;)
&lt;/script&gt;</code></pre>
<p>这里需要说明的是：</p>
<p><code>#sub_menu1</code>是固定目标的div的ID，就是我们想要哪个元素固定的ID。</p>
<p>接着就是采用jquery的addClass方法动态添加一个class为mobilefixed。同时，还可以对其他的元素动态添加class，这个比采用css方式好点，不用把样式直接写在里面，而是在样式表面写好这个class的样式代码。这个是一个基础的用法，笔者就不用赘述了。</p>
<p>这里的意思就是顺便对class为mytables的div进行动态添加了class为paddingtopmore的写法。</p>
<p><strong>这里啰嗦一下：</strong></p>
<p>动态添加的样式代码如下：</p>
<pre><code>.mytables&#123;
    margin-top:-40px !important;
    margin-bottom: -40px !important;
&#125;
@media (max-width:990px)&#123;
.mytables&#123;
   overflow-x: scroll !important;
   overflow-y: unset !important;
&#125;
&#125;

@media only screen and (max-width: 767px)&#123;
.mytables&#123;
    margin-top:-50px !important;
    margin-bottom: -50px !important;
&#125;
.responsive #top .paddingtopmore&#123;
    padding-top:20px !important;
&#125;
.responsive #top .mobilefixed&#123;
    top: 0 !important;
    position: fixed !important;
&#125;
&#125;</code></pre>
<p>注意：这个样式不是万能的，这个仅仅是笔者针对这个问题解决的一个示例，不具有参考意义。</p>
<p>这里值得说明的地方在于两点：第一点、是经常有客户问table表格列数太多的时候，在手机版上显示不全，或者是显示太拥挤，能不能让这个表格横向滚动。第二点、就是表格的头部列换行了，换行就算了，恶心的是，个别的不换行，结果就是一个高一个低，看起来很丑。能够都不换行，或者是能够都换行。</p>
<p>针对这个问题笔者采取的方式是：在table标签外面再加一个div，结构如下：</p>
<pre><code>&lt;div class=&quot;mytable&quot;&gt;
    &lt;table&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th&gt;header&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td&gt;data&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
&lt;/div&gt;</code></pre>
<p>好的，为了让表格能够在手机版显示横向滚动条出来我们对这个div添加的样式如下，由于列数比较多，这里设置为990px就开始进行显示滚动条了：</p>
<pre><code>@media (max-width:990px)&#123;
    .mytables&#123;
       overflow-x: scroll !important;   //横向显示滚动条
       overflow-y: unset !important;    //纵向不显示滚动条
    &#125;
&#125;</code></pre>
<p>看到了吧，是在表格的外面添加一个盒子，然后通过控制这个盒子，来让表格能够实现横向滚动。</p>
<p>第二点、我们先看下存在的问题，这是手机版样式：</p>
<p><img src="https://i.imgur.com/EmKTEQh.jpg"></p>
<p>一条代码可以美化下：</p>
<pre><code>@media only screen and (max-width: 767px)
    table thead th，table thead td &#123;
        min-width: 120px !important;   //这个宽度可以根据的表格列的文字多少进行自行设置。
    &#125;
&#125;</code></pre>
<p>美化后的效果：</p>
<p><img src="https://i.imgur.com/P2yXUdJ.jpg"></p>
<p>毕竟是可以横向滚动了，把宽度写死也没事。</p>
<p>好的，我们回到话题的中心来。</p>
<p>如果条件不为真，那么取消这两个动态添加的样式，这里就采用了removeClass()这个方法。</p>
<p>本来嘛，笔者这个案例在PC版上是自带的功能，手机版上没有这个功能，因此笔者只能把这两个写在针对手机版的媒体查询里面。</p>
<p>为了更形象的展示，这里截图看下：</p>
<p><img src="https://i.imgur.com/eFJl8HC.jpg"></p>
<p>红色框住的地方在往上滑动的时候，会被固定在顶部：</p>
<p><img src="https://i.imgur.com/sgRGF8I.jpg"></p>
<p>在PC端，已经固定住了。（这个是系统自带的，事实上，即使系统不自带，我们引入了前面的代码的话，也会解决了这个问题了）。</p>
<p>手机版我们只需要写好手机版的代码就可以了，最终效果如下：</p>
<p><img src="https://i.imgur.com/SnsxxV3.jpg"></p>
<p>至此，关于实现滚动的效果讲解已经完成了。核心就在于前面的js代码。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/05/31/wordpress%E7%BD%91%E7%AB%99%E5%BB%BA%E7%AB%8B%E9%87%8D%E5%AE%9A%E5%90%91%E7%A9%BA%E7%99%BD%E9%A1%B5%E9%9D%A2%EF%BC%8C%E5%AE%9A%E6%97%B6%E8%B0%83%E8%BD%AC%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9A%84%E5%9C%B0%E5%9D%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/31/wordpress%E7%BD%91%E7%AB%99%E5%BB%BA%E7%AB%8B%E9%87%8D%E5%AE%9A%E5%90%91%E7%A9%BA%E7%99%BD%E9%A1%B5%E9%9D%A2%EF%BC%8C%E5%AE%9A%E6%97%B6%E8%B0%83%E8%BD%AC%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9A%84%E5%9C%B0%E5%9D%80/" class="post-title-link" itemprop="url">wordpress网站建立重定向空白页面，定时调转到指定的地址</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-31 14:15:27" itemprop="dateCreated datePublished" datetime="2018-05-31T14:15:27+08:00">2018-05-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:03" itemprop="dateModified" datetime="2020-10-11T11:58:03+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>笔者有的时候很懒，对于这种常用又没有多大深入研究的东西喜欢写成成品，以后直接复制粘贴，快速解决问题。</p>
<p><strong>HTML代码：</strong></p>
<pre><code>&lt;h3 style=&quot;text-align: center;&quot;&gt;Thank you for your massage. Leader Display will be in contact with you as soon as possible&lt;/h3&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;http://lddisplay.com&quot;&gt;Back to Home&lt;/a&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;After &lt;span id=&quot;totalSecond&quot;&gt;3&lt;/span&gt; seconds will redirect to home page.&lt;/p&gt;</code></pre>
<p><strong>样式代码：</strong></p>
<pre><code>&lt;style&gt;
.container_wrap&#123;
   border:0px solid !important;
&#125;
.a2a_kit&#123;
   display:none !important;
&#125;
h3&#123;
   text-align: center;
    display: block;
    margin-bottom: 50px;
    font-weight: 100;
    line-height: 1.5em;
&#125;
a&#123;
   background: #eee; color: #333; padding: 10px 30px;margin:20px auto;display: inline-block; text-decoration: none;
&#125;
#totalSecond&#123;
   display:inline-block;
   text-align:center;
   color:red;
&#125;
&lt;/style&gt;</code></pre>
<p><strong>控制定时跳转的javascript代码：</strong></p>
<pre><code>&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt; 
var second = document.getElementById(&#39;totalSecond&#39;).textContent; 
if (navigator.appName.indexOf(&quot;Explorer&quot;) &gt; -1)  &#123; 
    second = document.getElementById(&#39;totalSecond&#39;).innerText; 
&#125; else &#123; 
    second = document.getElementById(&#39;totalSecond&#39;).textContent; 
&#125;
setInterval(&quot;redirect()&quot;, 3000); 
function redirect() &#123; 
if (second &lt; 0) &#123; 
    location.href = &#39;这里填写要跳转的目标地址（url）&#39;; 
&#125; else &#123;
    if (navigator.appName.indexOf(&quot;Explorer&quot;) &gt; -1) &#123; 
        document.getElementById(&#39;totalSecond&#39;).innerText = second--; 
    &#125; else &#123; 
        document.getElementById(&#39;totalSecond&#39;).textContent = second--; 
    &#125;
&#125;
&#125;
&lt;/script&gt;</code></pre>
<p>把以上所有的代码都放在一起，然后在worpress的后台新建一个空白页面，进入code模式，或者在可视化编辑器里面添加一个code区块，在模板那里选择：blank-no header no footer.</p>
<p>这样的话就可以直接显示一个空白的页面，建立好了以后就把代码丢进去。最后的效果：</p>
<p><img src="https://i.imgur.com/bKUi1fQ.jpg"></p>
<p>通过排版，就好看了很多了，3秒钟后跳转。</p>
<p><span style="color:red">PS:</span>这里的核心代码是javascript，原本是这样的：</p>
<pre><code>&lt;span id=&quot;totalSecond&quot;&gt;3&lt;/span&gt;
&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt; 
var second = document.getElementById(&#39;totalSecond&#39;).textContent; 
if (navigator.appName.indexOf(&quot;Explorer&quot;) &gt; -1)  &#123; 
    second = document.getElementById(&#39;totalSecond&#39;).innerText; 
&#125; else &#123; 
    second = document.getElementById(&#39;totalSecond&#39;).textContent; 
&#125;
setInterval(&quot;redirect()&quot;, 3000); 
function redirect() &#123; 
if (second &lt; 0) &#123; 
    location.href = &#39;这里填写要跳转的目标地址（url）&#39;; 
&#125; else &#123;
    if (navigator.appName.indexOf(&quot;Explorer&quot;) &gt; -1) &#123; 
        document.getElementById(&#39;totalSecond&#39;).innerText = second--; 
    &#125; else &#123; 
        document.getElementById(&#39;totalSecond&#39;).textContent = second--; 
    &#125;
&#125;
&#125;
&lt;/script&gt;</code></pre>
<p>里面的<code>totalSecond</code>是用来计数的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/05/31/%E5%8E%9F%E7%94%9Fjavascript%E5%AE%9E%E7%8E%B0%E4%BD%BF%E6%BB%9A%E5%8A%A8%E6%9D%A1%E7%BC%93%E6%85%A2%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%E7%9A%84%E6%95%88%E6%9E%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/31/%E5%8E%9F%E7%94%9Fjavascript%E5%AE%9E%E7%8E%B0%E4%BD%BF%E6%BB%9A%E5%8A%A8%E6%9D%A1%E7%BC%93%E6%85%A2%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%E7%9A%84%E6%95%88%E6%9E%9C/" class="post-title-link" itemprop="url">原生javascript和jquery实现使滚动条缓慢回到顶部的效果</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-31 12:13:01" itemprop="dateCreated datePublished" datetime="2018-05-31T12:13:01+08:00">2018-05-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:04" itemprop="dateModified" datetime="2020-10-11T11:58:04+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>HTML代码：</strong></p>
<pre><code>&lt;li id=&quot;btn-top&quot; style=&quot;position: fixed;right: 5px;bottom: 20px;background:red&quot;&gt;回到顶部&lt;/li&gt;</code></pre>
<p><strong>javascript代码：</strong></p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
var top=document.getElementById(&quot;btn-top&quot;);
   // var bottom=document.getElementById(&quot;btn-top&quot;);
   top.onclick=function()&#123;
       //alert(11);
       timer=setInterval(function()&#123;
           var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
           var ispeed=Math.floor(-scrollTop/6);
           console.log(ispeed)
           if(scrollTop==0)&#123;
               clearInterval(timer);
           &#125;
           document.documentElement.scrollTop=document.body.scrollTop=scrollTop+ispeed;
       &#125;,30)
   &#125;;
&lt;/script&gt;</code></pre>
<p>搞定！</p>
<p>作为补充，笔者最近做了一个网站经常用到的点击回到顶部，然后回到顶部的按钮消失，同时显示回到底部的按钮。这个是借助jquery。代码如下：</p>
<pre><code>&lt;div class=&quot;nocti_gototop&quot;&gt;
  &lt;a href=&#39;#top&#39; title=&#39;&lt;?php _e(&#39;Scroll to top&#39;,&#39;avia_framework&#39;); ?&gt;&#39; id=&#39;scroll-top2-link&#39;&gt;&lt;span class=&quot;av-icon-char&quot; aria-hidden=&quot;true&quot; data-av_icon=&quot;&quot; data-av_iconfont=&quot;entypo-fontello&quot;&gt;&lt;/span&gt;&lt;/a&gt;
  &lt;a href=&#39;#socket&#39; title=&#39;&lt;?php _e(&#39;Scroll to bottom&#39;,&#39;avia_framework&#39;); ?&gt;&#39; id=&#39;scroll-bottom-link&#39;&gt;&lt;span class=&quot;av-icon-char&quot; aria-hidden=&quot;true&quot; data-av_icon=&quot;&quot; data-av_iconfont=&quot;entypo-fontello&quot;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;script&gt;
  $(&quot;.nocti_gototop a&quot;).click(function()&#123;
    $(this).css(&quot;display&quot;,&quot;none&quot;).siblings().css(&quot;opacity&quot;,&quot;1&quot;).css(&quot;transition&quot;,&quot;1s ease&quot;).css(&quot;display&quot;,&quot;block&quot;);
  &#125;)
&lt;/script&gt;</code></pre>
<p>这里以enfold主题为例进行的讲解，笔者把这个放在footer.php文件中。对应的css样式如下：</p>
<pre><code>.nocti_gototop&#123;
    position: fixed;
    right: 5px;
    top: calc(100%/2 - 50px);
    background: #f44336;
    z-index: 999;
&#125;
.nocti_gototop a&#123;
    color:#fff !important;
    text-decoration:none !important;
    display: block;
    background: #e6014f;
    padding: 10px;
    font-size:24px;
&#125;
.nocti_gototop a:first-child&#123;
    background: #E60013 !important;
&#125;
.nocti_gototop a:last-child&#123;
    background: #F39800 !important;
&#125;</code></pre>
<p>最后的效果入下：</p>
<p><img src="https://i.imgur.com/DbHKp1t.jpg"></p>
<p>当点击向上的时候：</p>
<p><img src="https://i.imgur.com/w8TJXSp.jpg"></p>
<p>当点击向下的时候：</p>
<p><img src="https://i.imgur.com/1jBuIGb.jpg"></p>
<p>这个体验很好。</p>
<p>其中的jquery方案代码如下：</p>
<pre><code>&lt;div id=&quot;scrollTop&quot;&gt;dianji&lt;/div&gt;  
&lt;script type=&quot;text/javascript&quot;&gt;         
    $(window).scroll(function()&#123;                            
        if($(window).scrollTop()&lt;=100)&#123;
            $(&quot;#scrollTop&quot;).fadeOut(1000);  
        &#125;else&#123;
            $(&quot;#scrollTop&quot;).fadeIn(1000);
        &#125;
    &#125;)
    $(&quot;#scrollTop&quot;).click(function()&#123;
         $(&#39;body,html&#39;).animate(&#123;scrollTop:0&#125;,500);
    &#125;)
&lt;/script&gt;</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/05/30/Magento%E4%B8%AD%E5%9B%BD%E7%9C%81%E5%9C%B0%E5%9D%80%E4%B8%AD%E8%8B%B1%E6%96%87%E6%8F%92%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/30/Magento%E4%B8%AD%E5%9B%BD%E7%9C%81%E5%9C%B0%E5%9D%80%E4%B8%AD%E8%8B%B1%E6%96%87%E6%8F%92%E4%BB%B6/" class="post-title-link" itemprop="url">Magento中国省地址中英文插件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-30 18:35:47" itemprop="dateCreated datePublished" datetime="2018-05-30T18:35:47+08:00">2018-05-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:57:59" itemprop="dateModified" datetime="2020-10-11T11:57:59+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前几天看了钥匙写的博客，感受非常深，他的用心于责任心值得赞赏。好了这里分享一下他分享的一个插件，这个插件就是为了解决当我们选择中国的时候是没有内容出现的情况</p>
<p>在magento的后台的system—configuration—Shipping Settings里面：</p>
<p><img src="https://i.imgur.com/atZkuXa.jpg"></p>
<p>这个时候我们还得自己填写。</p>
<p>那么我们把这个插件下载下来，然后解压，里面有个app文件夹，这个时候把这个文件夹复制，然后来到magento的根目录下，粘贴，覆盖。</p>
<p>然后网站后台退出一下，然后再次登录，这个时候我们来到配送地址的设置那里，我们就可以看到：</p>
<p><img src="https://i.imgur.com/XG2xYpK.jpg"></p>
<p>好的，插件下载地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/17I3cKjTMgpGaWUotc4Dtfg">https://pan.baidu.com/s/17I3cKjTMgpGaWUotc4Dtfg</a>  ，密码：ahhr</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/17/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/43/">43</a><a class="extend next" rel="next" href="/page/19/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">424</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">400</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/16/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/16/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/26/%E4%B8%BAwordpress%E6%B7%BB%E5%8A%A0ajax%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD%EF%BC%8C%E6%94%AF%E6%8C%81%E5%AF%B9%E6%96%87%E7%AB%A0%EF%BC%8C%E9%A1%B5%E9%9D%A2%EF%BC%8C%E4%BA%A7%E5%93%81%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E6%90%9C%E7%B4%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/26/%E4%B8%BAwordpress%E6%B7%BB%E5%8A%A0ajax%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD%EF%BC%8C%E6%94%AF%E6%8C%81%E5%AF%B9%E6%96%87%E7%AB%A0%EF%BC%8C%E9%A1%B5%E9%9D%A2%EF%BC%8C%E4%BA%A7%E5%93%81%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E6%90%9C%E7%B4%A2/" class="post-title-link" itemprop="url">为wordpress添加ajax搜索功能，支持对文章，页面，产品，自定义字段进行过滤搜索</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-26 11:35:28" itemprop="dateCreated datePublished" datetime="2018-07-26T11:35:28+08:00">2018-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:03" itemprop="dateModified" datetime="2020-10-11T11:58:03+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近有个客户说要添加一个搜索的功能放在wordpress网站上面，对支持中心页面进行搜索。客户需要的参考的网站：</p>
<p><a target="_blank" rel="noopener" href="https://aeotec.freshdesk.com/support/home">https://aeotec.freshdesk.com/support/home</a></p>
<p>根据这个网站，我们采用wordpress的搜索插件：<a target="_blank" rel="noopener" href="https://wordpress.org/plugins/ajax-search-lite/">Ajax Search Lite</a>，当然也可以在这里下载：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/12uHMVYrPazVCV79HVhDsKw">https://pan.baidu.com/s/12uHMVYrPazVCV79HVhDsKw</a>，密码：trmw</p>
<p>点击安装启动就行了。</p>
<p>然后，我们需要把这个搜索框对应的短码或者php代码放在我们需要放的地方，如果是短码，那么放在网站后的页面内容即可：</p>
<p><img src="https://i.imgur.com/g9mcmSF.png"></p>
<p>如果是用php代码的话，需要把这个代码放在源码中：</p>
<p><img src="https://i.imgur.com/OFkSXtu.png"></p>
<p>如果只是针对文章进行搜索的话，那么我们只需要开启这个：</p>
<p><img src="https://i.imgur.com/F1saEDl.png"></p>
<p>如果只是对产品进行搜索，我们就把这个放在这个地方：</p>
<p><img src="https://i.imgur.com/tvzYzM3.png"></p>
<p>当然后面还有很多东西可以设置，篇幅有限，今日就讲到这里。</p>
<p>最后的效果：</p>
<p><img src="https://i.imgur.com/eEcDLvy.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/25/%E8%BF%90%E7%94%A8JavaScript%E6%88%96%E8%80%85jquery-%E7%88%B6%E7%BA%A7-%E5%AD%90%E7%BA%A7-%E5%90%8C%E7%BA%A7-%E5%86%B2%E7%AA%81-%E8%A7%A3%E5%86%B3wordpress%E5%8A%A0%E5%AF%86%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%AE%9A%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/25/%E8%BF%90%E7%94%A8JavaScript%E6%88%96%E8%80%85jquery-%E7%88%B6%E7%BA%A7-%E5%AD%90%E7%BA%A7-%E5%90%8C%E7%BA%A7-%E5%86%B2%E7%AA%81-%E8%A7%A3%E5%86%B3wordpress%E5%8A%A0%E5%AF%86%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%AE%9A%E5%88%B6/" class="post-title-link" itemprop="url">运用JavaScript或者jquery(父级,子级,同级,冲突)解决wordpress加密页面的定制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-25 18:01:23" itemprop="dateCreated datePublished" datetime="2018-07-25T18:01:23+08:00">2018-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:06" itemprop="dateModified" datetime="2020-10-11T11:58:06+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://i.imgur.com/YCLqYI0.png"></p>
<p>如上图所示，我们在使用wordpress的时候，可能会用到wordpress为页面加密的功能，可是加密后的页面界面很简单，而且里面的文字都是没法修改的，除非进入的wordpress的源码里面进行修改，如果你是在是一筹莫展的时候，笔者告诉你去哪里修改，路径：wordpress/wp-includes/post-template.php，大概是1602那个位置。修改一下就行了。</p>
<p>笔者经过尝试，确实起到了作用，可是我在修改了这个文件后，对wordpress进行了更新，当我再次访问加密页面后，样式还是回到了解放前。所以这个方式是不科学的。也是危险的做法，因为wordpress是经常更新的。</p>
<p>好的，为了不让这个被覆盖，又要定制这个加密的页面，我们只能通过把代码加入functions.php文件里面，如果感兴趣可以参考下<a target="_blank" rel="noopener" href="http://www.habotalk.com/wangzhanjianshe/wordpress/2312.html">这篇文章</a>，可是这个貌似不起作用，这个方法网上一抓一大把，都是千篇一律的错误。经过实践这个方法是错误的，大家别折腾了。</p>
<p>最后，我们来说下今天的重点：运用JavaScript或者jquery解决wordpress加密页面的定制。</p>
<p>首先我们得先引入jquery，如果你的wordpress主题里面已经有了那就不用再次引入了，笔者这里假设没有引入这个JavaScript库文件。</p>
<p>在主题的header.php里面加入代码：</p>
<pre><code>&lt;script src=&quot;&lt;?php bloginfo(&#39;template_url&#39;); ?&gt;/js/jquery-3.2.1.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>为了减少对第三方网站的请求，笔者只能把这个放在自己的主题里面了，然后我们接着来观察一下这个加密页面的结构。</p>
<p><img src="https://i.imgur.com/yiaDI86.png"></p>
<p>我想把这个截图里面的产品缩略图隐藏，由于只针对加密页面进行隐藏，所以不能通过css的方式进行一个隐藏，所以我们找到了加密页面独一无二的class，我们看到红色框中有个<code>post-password-form</code>，我们需要隐藏的是class为<code>page-thumb</code>的内容，所以我们需要使用jquery的很多知识点。思路如下：</p>
<p>获取<code>post-password-form</code>的父级，然后再获取这个父级的同级，然后再在同级元素查找class为<code>page-thumb</code>的部分，最后通过jquery的css方法隐藏这个块级元素即可。</p>
<p>为了不让自己引入的这个jquery与wordpress主题里面的jquery发生冲突，那么先解决一下冲突。</p>
<pre><code>var jQuery_3_2_1 = $.noConflict(true);  //因为上面引入的是3.2.1版本的</code></pre>
<p>由于我们想通过用户先与我们取得联系才能获取密码，有了密码才能访问，由于默认的wordpress的加密页面是没有这个的，所以我们需要jquery动态插入代码。</p>
<pre><code>var jQuery_3_2_1div = &#39;&lt;span&gt;&lt;a href=&quot;./contact-us/&quot;&gt;联系我们获取授权&lt;/a&gt;&lt;/span&gt;&#39;;</code></pre>
<p>我们想要把这个文字嵌入到那段文字后面，如下图：</p>
<p><img src="https://i.imgur.com/dAXub9B.png"></p>
<p>我们通过开发者工具找到</p>
<p><img src="https://i.imgur.com/MV5CTWB.png"></p>
<pre><code>jQuery_3_2_1(&quot;.post-password-form p:first-child&quot;).append(jQuery_3_2_1div);</code></pre>
<p>最后jquery代码如下：</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    var jQuery_3_2_1 = $.noConflict(true);
    jQuery_3_2_1(document).ready(function()&#123;
        var jQuery_3_2_1div = &#39;&lt;span&gt;&lt;a href=&quot;./contact-us/&quot;&gt;联系我们获取授权&lt;/a&gt;&lt;/span&gt;&#39;;
        jQuery_3_2_1(&quot;.post-password-form&quot;).parent().siblings().find(&#39;.page-thumb&#39;).css(&#123;&quot;display&quot;:&quot;none&quot;&#125;);
        jQuery_3_2_1(&quot;.post-password-form p:first-child&quot;).append(jQuery_3_2_1div);

    &#125;)
&lt;/script&gt;</code></pre>
<p>好的，确保都添加无误后我们刷新一下这个页面：</p>
<p><img src="https://i.imgur.com/VBIGzlx.png"></p>
<p>搞定！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/24/%E9%87%87%E7%94%A8background-position%E7%9A%84%E6%96%B9%E5%BC%8F%E7%BB%93%E5%90%88jquery%E5%AE%9E%E7%8E%B0%E9%BC%A0%E6%A0%87%E6%BB%9A%E5%8A%A8%E7%9A%84%E6%96%B9%E5%BC%8F%E9%A9%B1%E5%8A%A8%E5%8A%A8%E7%94%BB%E7%9A%84%E6%95%88%E6%9E%9C%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/24/%E9%87%87%E7%94%A8background-position%E7%9A%84%E6%96%B9%E5%BC%8F%E7%BB%93%E5%90%88jquery%E5%AE%9E%E7%8E%B0%E9%BC%A0%E6%A0%87%E6%BB%9A%E5%8A%A8%E7%9A%84%E6%96%B9%E5%BC%8F%E9%A9%B1%E5%8A%A8%E5%8A%A8%E7%94%BB%E7%9A%84%E6%95%88%E6%9E%9C%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">采用background-position的方式结合jquery实现鼠标滚动的方式驱动动画的效果的两种方案</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-24 09:42:13" itemprop="dateCreated datePublished" datetime="2018-07-24T09:42:13+08:00">2018-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:06" itemprop="dateModified" datetime="2020-10-11T11:58:06+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近有对background-position有了新的兴趣，虽说css是很简单的事，但是如果你要深入了解了它以后你会发现css不简单。</p>
<p>好的，笔者想要对这个网站进行特效仿制：<a target="_blank" rel="noopener" href="http://www.ccell.com/Product/CARTRIDGE/TH2">http://www.ccell.com/Product/CARTRIDGE/TH2</a>。</p>
<p>当鼠标进入到这个区域的时候，鼠标滚动方向的不同，产品会实现一个动画，最终完成产品的组合。先截几张图看下吧。</p>
<p><img src="https://i.imgur.com/CuFl1oh.png"></p>
<p><img src="https://i.imgur.com/fL1ogAL.png"></p>
<p>又比如：</p>
<p><img src="https://i.imgur.com/4GIv1th.png"></p>
<p><img src="https://i.imgur.com/Y3ZYSSt.png"></p>
<p><img src="https://i.imgur.com/glqDVog.png"></p>
<p>这种图片的形态是随着鼠标的滚动发生的一系列变化的快照。笔者以前写过这样一篇文章，大概就是通过鼠标滚动实现组合模块的分离和合并效果，只可惜那种方式只适合2D效果，也就是一个二维平面的，三维的是不行的。就像我们上面的这些图片，这个是具有三维特性的，有透明穿插的部分，也有立体感的部分，我们只能采用图片的方式去做。</p>
<p>我们把这个过程中的动画的每一帧都做成PNG图片，如下：</p>
<p><img src="https://i.imgur.com/tybeRbD.png"></p>
<p>命名为：31515495359.png，这个图片名会在后面的html里面用到，所以这里特别说明一下，以便区分。</p>
<p>另外一张是：</p>
<p><img src="https://i.imgur.com/ETTpaDW.png"></p>
<p>命名为：11515739686.png，这个图片名会在后面的html里面用到，所以这里特别说明一下，以便区分。</p>
<p>这种等距离排布好的，不同帧数下显示的不同角度，这种思维来自gif图的制作。然后通过js的方式来实现，滚动一次播放一帧，滚动方向不同也播放的内容也不同。这样就完成了一个大概的思维。</p>
<p>方案一：把所有帧的图片做在一张大图上，然后均匀的排成一排，这个地方要注意的是，要等距离的排布，做成PNG格式的。其中html代码如下：</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;./src/custom.css&quot;&gt;
    &lt;script src=&quot;./src/jquery.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;./src/ifie8.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;./src/js.js&quot;&gt;&lt;/script&gt;
    &lt;title&gt;test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;main&quot;&gt;
    &lt;div class=&quot;tech-wrap tech-wrap2&quot;&gt;
        &lt;div class=&quot;tech tech2 shp&quot;&gt;
            &lt;div class=&quot;left&quot;&gt;
                &lt;!-- frame：总帧数，width:每一帧的宽度，showpx：页面滚动到产品露出多少像素后触发效果，speed：动画的速度，scale：缩放比例，reverse：运动完后是否继续反向运动  /Uploads/article/original_img/11515739686.png--&gt;
                &lt;div class=&quot;img-box img-box-th210&quot; style=&quot;background-image: url(&#39;./src/11515739686.png&#39;); transform: scale(0.986458); width: 256px; background-size: 3584px; background-position: 0px center;&quot; frame=&quot;14&quot; width=&quot;320&quot; showpx=&quot;500&quot; speed=&quot;3&quot; scale=&quot;0.8&quot; reverse=&quot;true&quot;&gt;
                    &lt;img class=&quot;hidden&quot; src=&quot;./src/11515739686.png&quot; alt=&quot;&quot;&gt;
                    &lt;!-- 和背景图一样的图片,用来判断背景图是否加载完成 --&gt;
                    &lt;div class=&quot;tip tip1&quot;&gt;
                        &lt;div class=&quot;plus&quot;&gt;+&lt;/div&gt;
                        &lt;div class=&quot;text&quot;&gt;
                            &lt;div class=&quot;title&quot;&gt;Ceramic Mouth Piece&lt;/div&gt;
                            &lt;div class=&quot;intro&quot;&gt;Ceramic mouth piece offers cooler.&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;tip tip2&quot;&gt;
                        &lt;div class=&quot;plus&quot;&gt;+&lt;/div&gt;
                        &lt;div class=&quot;text&quot;&gt;
                            &lt;div class=&quot;title&quot;&gt;Glass Housing&lt;/div&gt;
                            &lt;div class=&quot;intro&quot;&gt;Glass housing ensures better anticorrosion.&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;jd-wrap&quot;&gt;
        &lt;div class=&quot;jd shp&quot;&gt;
            &lt;span class=&quot;tc&quot;&gt;
                &lt;div class=&quot;title1&quot;&gt;THE PUREST TASTE&lt;/div&gt;
                &lt;div class=&quot;ani-box-wrap ani-th210&quot; style=&quot;transform: scale(0.986458);&quot;&gt;
                    &lt;!-- frame：总帧数，width:每一帧的宽度，showpx：页面滚动到产品露出多少像素后触发效果，speed：动画的速度，scale：缩放比例  --&gt;
                    &lt;div class=&quot;ani-box-th210&quot; style=&quot;background-image: url(&#39;./src/31515495359.png&#39;); width: 183px; background-size: 2379px; background-position: -2196px center;&quot; frame=&quot;13&quot; width=&quot;183&quot; showpx=&quot;200&quot; speed=&quot;6&quot; scale=&quot;1&quot;&gt;
                        &lt;img class=&quot;hidden&quot; src=&quot;./src/31515495359.png&quot; alt=&quot;&quot;&gt;&lt;!-- 和背景图一样的图片,用来判断背景图是否加载完成 --&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;tip tip1&quot;&gt;
                        &lt;div class=&quot;plus&quot;&gt;+&lt;/div&gt;
                        &lt;div class=&quot;text&quot;&gt;
                            &lt;div class=&quot;title&quot;&gt;Ceramic Mouth Piece&lt;/div&gt;
                            &lt;div class=&quot;intro&quot;&gt;Ceramic mouth piece offers cooler.&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;&lt;div class=&quot;tip tip2&quot;&gt;
                        &lt;div class=&quot;plus&quot;&gt;+&lt;/div&gt;
                        &lt;div class=&quot;text&quot;&gt;
                            &lt;div class=&quot;title&quot;&gt;Glass Housing&lt;/div&gt;
                            &lt;div class=&quot;intro&quot;&gt;Glass housing ensures better anticorrosion.&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;&lt;div class=&quot;tip tip5&quot;&gt;
                        &lt;div class=&quot;plus&quot;&gt;+&lt;/div&gt;
                        &lt;div class=&quot;text&quot;&gt;
                            &lt;div class=&quot;title&quot;&gt;Revolutionary Heating Elements&lt;/div&gt;
                            &lt;div class=&quot;intro&quot;&gt;Ceramic core porosity ensures continuous.&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/span&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>css代码如下：</p>
<pre><code>img.hidden &#123;
    display: none;
&#125;
.tech-wrap &#123;
    width: 100%;
    max-width: 1920px;
    margin: 0 auto;
&#125;
.tech &#123;
    width: 100%;
    height: 895px;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
    position: relative;
    overflow: hidden;
&#125;
.tech .left &#123;
    display: table;
    width: 57%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
&#125;
.tech .left .img-box &#123;
    width: 90%;
    padding-top: 80%;
    background-size: 100% auto;
    margin: 0 auto;
    background-repeat: no-repeat;
    position: relative;
&#125;
.tech .left .img-box .pb1 &#123;
    width: 74.82%;
    position: absolute;
    right: 24%;
    bottom: 19.2%;
    z-index: 2;
&#125;
.tech .left .img-box .pb2 &#123;
    width: 50.36%;
    position: absolute;
    left: 24%;
    top: 19.2%;
    z-index: 1;
&#125;
.tech .left .tip &#123;
    width: 46px;
    height: 46px;
    position: absolute;
    z-index: 3;
&#125;
.tech .left .plus &#123;
    width: 100%;
    height: 100%;
    line-height: 42px;
    border: 2px solid #298dac;
    border-radius: 50%;
    font-size: 26px;
    color: #333;
    text-align: center;
    cursor: pointer;
    transition: all .3s;
&#125;
.tech .left .plus:hover &#123;
    background-color: #298dac;
    color: #fff;
&#125;
.tech .left .tip1 &#123;
    left: 80px;
    top: 34.4%;
&#125;
.tech .left .tip2 &#123;
    right: 170px;
    bottom: 24%;
&#125;
.tech .left .tip:hover .text &#123;
    visibility: visible;
    opacity: 1;
&#125;
.tech .left .text &#123;
    width: 225px;
    position: absolute;
    left: -60px;
    top: 60px;
    visibility: hidden;
    opacity: 0;
    transition: all .3s;
&#125;
.tech .left .text .title &#123;
    font-size: 20px;
    color: #333;
    line-height: 26px;
    padding-bottom: 10px;
    font-weight: bold;
&#125;
.tech .left .text .intro &#123;
    font-size: 16px;
    color: #333;
    line-height: 26px;
&#125;
.tech2 &#123;
    font-size: 0;
    display: table;
&#125;
.tech2 .left .img-box &#123;
    position: relative;
    top: 0;
    left: 0;
    margin: 0 auto;
    padding-top: 0;
    background-size: auto auto;
    background-position: left center;
    background-repeat: no-repeat;
&#125;
.tech2 .left .img-box-th210 &#123;
    height: 140%;
    position: relative;
    margin-top: 0%;
&#125;
.tech2 .left .img-box-th210 .tip1 &#123;
    left: -30px;
    top: 25%;
&#125;
.tech2 .left .img-box-th210 .tip2 &#123;
    left: 230px;
    bottom: 25%;
&#125;
.tech2 .left .img-box-th210 .tip1 .text &#123;
    left: -135px;
    top: 60px;
&#125;
.tech2 .left .img-box-th210 .tip2 .text &#123;
    left: -20px;
    bottom: 60px;
    top: auto;
&#125;
.tech2 .left .img-box-m6t10 &#123;
    height: 100%;
&#125;
.tech2 .left .img-box-m6t10 .tip1 &#123;
    left: 300px;
    top: 100px;
&#125;
.tech2 .left .img-box-m6t10 .tip2 &#123;
    left: 250px;
    bottom: 100px;
&#125;
.tech2 .left .img-box-m6t10 .tip1 .text &#123;
    left: -235px;
    top: 0px;
&#125;
.tech2 .left .img-box-m6t10 .tip2 .text &#123;
    left: 60px;
    bottom: 0px;
    top: auto;
&#125;
.jd-wrap &#123;
    width: 100%;
    max-width: 1920px;
    margin: 0 auto;
&#125;
.jd &#123;
    display: table;
    width: 100%;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
    position: relative;
    overflow: hidden;
&#125;
.jd .title1 &#123;
    font-size: 3.5vw;
    color: #333;
    font-weight: bold;
    text-align: center;
    padding-bottom: 1.9%;
    margin-bottom: 1.37%;
    position: relative;
&#125;
.jd .title1:after &#123;
    display: block;
    content: &quot;&quot;;
    width: 23px;
    height: 2px;
    background-color: #333;
    position: absolute;
    left: 50%;
    margin-left: -12px;
    bottom: 0;
&#125;
.jd .ani-box-wrap &#123;
    width: 1200px;
    height: 300px;
    position: relative;
    padding-top: 150px;
    margin: 0 auto;
&#125;
.jd .ani-box &#123;
    width: 183px;
    height: 1200px;
    transform-origin: 88px 88px;
    transform: rotate(-90deg);
&#125;
.jd .tip &#123;
    width: 46px;
    height: 46px;
    position: absolute;
&#125;
.jd .plus &#123;
    width: 100%;
    height: 100%;
    line-height: 42px;
    border: 2px solid #298dac;
    border-radius: 50%;
    font-size: 26px;
    color: #333;
    text-align: center;
    cursor: pointer;
    transition: all .3s;
&#125;
.jd .plus:hover &#123;
    background-color: #298dac;
    color: #fff;
&#125;
.jd .tip:hover .text &#123;
    visibility: visible;
    opacity: 1;
&#125;
.jd .text &#123;
    width: 225px;
    position: absolute;
    left: -60px;
    top: 60px;
    visibility: hidden;
    opacity: 0;
    transition: all .3s;
&#125;
.jd .text .title &#123;
    font-size: 20px;
    color: #333;
    line-height: 26px;
    padding-bottom: 10px;
    font-weight: bold;
&#125;
.jd .text .intro &#123;
    font-size: 16px;
    color: #333;
    line-height: 26px;
&#125;
.jd .ani-th210 .tip1 &#123;
    left: 10px;
    top: 120px;
&#125;
.jd .ani-th210 .tip2 &#123;
    left: 300px;
    top: 300px;
&#125;
.jd .ani-th210 .tip3 &#123;
    left: 590px;
    top: 120px;
&#125;
.jd .ani-th210 .tip4 &#123;
    left: 915px;
    top: 120px;
&#125;
.jd .ani-th210 .tip5 &#123;
    left: 1004px;
    top: 300px;
&#125;
.jd .ani-th210 .tip6 &#123;
    left: 1100px;
    top: 110px;
&#125;
.jd .ani-th210 .tip1 .text &#123;
    left: 60px;
    bottom: 0;
    top: auto;
&#125;
.jd .ani-th210 .tip2 .text &#123;
    left: 60px;
    top: -15px;
&#125;
.jd .ani-th210 .tip3 .text &#123;
    left: 60px;
    bottom: 0;
    top: auto;
&#125;
.jd .ani-th210 .tip4 .text &#123;
    left: -230px;
    bottom: 0;
    top: auto;
&#125;
.jd .ani-th210 .tip5 .text &#123;
    left: -230px;
    top: -30px;
&#125;
.jd .ani-th210 .tip6 .text &#123;
    left: -140px;
    bottom: 60px;
    top: auto;
&#125;
.jd .ani-box-th210 &#123;
    width: 183px;
    height: 1200px;
    transform-origin: 88px 88px;
    transform: rotate(-90deg);
&#125;
@media(max-width: 1300px) &#123;
    .jd .ani-box-wrap &#123;
        width: 100%;
        left: 0;
        transform: scale(0.9);
    &#125;
&#125;</code></pre>
<p>其中我们需要引入一些外部文件，由于这里需要用到jquery，所以我们需要引入这个文件，这部分已经在html代码里面有了，另外还有一个文件，这个文件存放的是实现这个动画的js。我们命名为：js.js，代码如下：</p>
<pre><code>$(document).ready(function() &#123;
    //产品分解效果，总帧数m，图宽度w，页面滚动到产品露出h像素后触发效果，k为运动的速度（值在1到100之间）
    $.fn.dg = function(m,w,h,k)&#123;
        var s=$(this),h = s.offset().top - $(window).height() + h*$(window).width()/1920,m = m,w = w,k=100/k,r=s.attr(&quot;reverse&quot;);
        $(window).scroll(function()&#123;
            var a = $(this).scrollTop();
            if(a&gt;=h)&#123;
                var n = parseInt((a-h)/k)+1;
                if(n&lt;=m)&#123;
                    var bp = -w*(n-1)/m +&quot;px center&quot;;
                    s.css(&quot;background-position&quot;,bp);  
                &#125;else if(n&gt;m &amp;&amp; n&lt;=m+4)&#123;
                    var bp = -w*(m-1)/m +&quot;px center&quot;;
                    s.css(&quot;background-position&quot;,bp);
                &#125;
                else if(n&gt;m+4 &amp;&amp; n&lt;2*m+4)&#123;
                    if(r==&quot;true&quot;)&#123;
                        n = m - (n-4)%m;
                        var bp = -w*(n-1)/m +&quot;px center&quot;;
                        s.css(&quot;background-position&quot;,bp);  
                    &#125;
                &#125;
            &#125;
        &#125;)
    &#125;
    //页面所有img加载完后再显示页面
    var srcs = getImgSrc();
    function showPage()&#123;
        $(&quot;#preloader&quot;).removeClass(&quot;show&quot;);
        //下面的这段得在图片加载完后再执行，不然动态效果会失效
        $(&quot;[frame]&quot;).each(function()&#123;
            var ele = $(this);
            var m = parseInt(ele.attr(&quot;frame&quot;));
            var w = parseInt(ele.attr(&quot;width&quot;));
            var s = parseFloat(ele.attr(&quot;scale&quot;) || 1);
            ele.css(&quot;width&quot;,w*s);
            var tw = w*m*s;
            var h = parseInt(ele.attr(&quot;showpx&quot;) || 100);
            var k = parseInt(ele.attr(&quot;speed&quot;) || 3);
            ele.css(&quot;backgroundSize&quot;,tw+&quot;px auto&quot;);
            ele.dg(m,tw,h,k);
        &#125;)
    &#125;
    afterImgLoad(srcs,showPage);
    function getImgSrc()&#123;
        var imgs = document.getElementsByTagName(&quot;img&quot;);
        var imgsN = imgs.length;
        var imgsArr = [];
        for(var i=0;i&lt;imgsN;i++)&#123;
            imgsArr[i] = imgs[i].src;
        &#125;
        return imgsArr;
    &#125;
    //srcs表示要加载的图片数组，ddd表示加载完成后要执行的函数
    function afterImgLoad(srcArr,fn)&#123;
        var srcArr = srcArr;
        var srcN = srcArr.length;
        var curN = 0;
        var wbg = new Image();
        loadOne(0);
        function loadOne(curN)&#123;
            if(curN&lt;srcN)&#123;
                wbg.src = srcArr[curN];
                var timer = setInterval(function()&#123;
                    if(wbg.complete)&#123;
                        clearInterval(timer);
                        loadOne(curN+1);
                    &#125;
                &#125;,50)
                wbg.onerror = function()&#123;
                    clearInterval(timer);
                    loadOne(curN+1);
                &#125;
            &#125;else&#123;
                fn();
            &#125;
        &#125;
    &#125;

    //调整大小
    $(window).resize(function()&#123;
        var ww = $(window).width();
        ww&lt;1200 &amp;&amp; (ww=1200);
        ww&gt;1920 &amp;&amp; (ww=1920);
        var k = ww/1920;
        $(&quot;.shp&quot;).css(&quot;height&quot;,895*k);
        $(&quot;.static-box&quot;).css(&#123;&quot;transform&quot;:&quot;scale(&quot;+k+&quot;)&quot;,&quot;height&quot;: 192*k&#125;);
        $(&quot;.img-box-b07&quot;).css(&#123;&quot;transform&quot;:&quot;scale(&quot;+k+&quot;)&quot;&#125;);
        $(&quot;.img-box-ba01&quot;).css(&#123;&quot;transform&quot;:&quot;scale(&quot;+k+&quot;)&quot;&#125;);
        $(&quot;.img-box-th210&quot;).css(&#123;&quot;transform&quot;:&quot;scale(&quot;+k+&quot;)&quot;&#125;);
        if($(&quot;.palm .right .title img&quot;).length)&#123;
            $(&quot;.palm .right .title img&quot;).css(&quot;height&quot;,93*k);
            $(&quot;.palm .right .title&quot;).css(&quot;fontSize&quot;,0);
        &#125;
        var q = k;
        q&lt;0.73 &amp;&amp; (q=0.73);
        $(&quot;.jd .ani-box-wrap&quot;).css(&#123;&quot;transform&quot;:&quot;scale(&quot;+q+&quot;)&quot;&#125;);

    &#125;)
    $(window).trigger(&quot;resize&quot;);

&#125;);</code></pre>
<p>另外就是需要解决一个浏览器兼容性的问题（这个文件可要可不要，不要也不会影响到这个效果），我们把这个代码写在另外一个文件里面，命名为：ifie8.js，代码如下：</p>
<pre><code>$(function () &#123;
    if(navigator.appName == &quot;Microsoft Internet Explorer&quot; &amp;&amp;(navigator.appVersion .split(&quot;;&quot;)[1].replace(/[ ]/g,&quot;&quot;)==&quot;MSIE6.0&quot;||navigator.appVersion .split(&quot;;&quot;)[1].replace(/[ ]/g,&quot;&quot;)==&quot;MSIE7.0&quot;||navigator.appVersion .split(&quot;;&quot;)[1].replace(/[ ]/g,&quot;&quot;)==&quot;MSIE8.0&quot;))
    &#123;
        $(&#39;body&#39;).css(&#123;&#39;background-color&#39;:&#39;#3cbbdc&#39;&#125;).html(&#39;&lt;div id=&quot;web-ietip&quot;&gt;&lt;a href=&quot;http://se.360.cn/&quot; target=&quot;_blank&quot; title=&quot;360浏览器&quot; style=&quot;width: 60px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://chrome.360.cn/&quot; target=&quot;_blank&quot; title=&quot;360极速浏览器&quot; style=&quot;width: 53px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://ie.sogou.com/&quot; target=&quot;_blank&quot; title=&quot;搜狗浏览器&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://browser.qq.com/&quot; target=&quot;_blank&quot; title=&quot;QQ浏览器&quot; style=&quot;width: 55px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.liebao.cn/&quot; target=&quot;_blank&quot; title=&quot;猎豹浏览器&quot; style=&quot;width: 55px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.google.cn/intl/zh-CN/chrome/browser/&quot; target=&quot;_blank&quot; title=&quot;谷歌浏览器&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.firefox.com.cn/&quot; target=&quot;_blank&quot; title=&quot;火狐浏览器&quot; style=&quot;width: 55px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.apple.com/cn/safari/&quot; target=&quot;_blank&quot; title=&quot;仅支持Mac系统&quot; style=&quot;width: 58px;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://rj.baidu.com/search/index/?kw=IE11&quot; target=&quot;_blank&quot; style=&quot;width: 55px;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&#39;)
    &#125;
&#125;);</code></pre>
<p>好的，当我们完成这个以后，我们就可以把这个文件包放在服务器上进行访问了，最终效果如下：</p>
<p><img src="https://i.imgur.com/BjEXK4A.png"></p>
<p><img src="https://i.imgur.com/AMy3UEV.png"></p>
<p>完整代码下载地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1HN3XzXtB5JYwR2jxrMylzg">https://pan.baidu.com/s/1HN3XzXtB5JYwR2jxrMylzg</a>，密码：a2op</p>
<hr>
<p>方案二：我们不采用jquery方案，尽可能的精简一下这个代码量，笔者的方案是：每一帧做一张png图片，然后通过鼠标滚动的方式切换图片的思路。</p>
<p>笔者的思路是从这个教程来的：</p>
<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
&lt;title&gt;鼠标通过滚动滚轮切换图片&lt;/title&gt;
&lt;style&gt;
#picBox&#123;
  width:800px;height:600px;
  margin:70px auto;
  &#125;
&lt;/style&gt;
&lt;script&gt;
  var nowPic=1;
  function MouseWheel(e)&#123;
    var pic;
    e=e||window.event;
    for(i=1;i&lt;4;i++)&#123;
      if(i==nowPic)&#123;
          if(e.wheelDelta)&#123;//IE
              pic=document.getElementById(&quot;pic&quot;+i);
              pic.style.display=&quot;block&quot;;
            &#125;else if(e.detail)&#123;//Firefox
              pic=document.getElementById(&quot;pic&quot;+i);
              pic.style.display=&quot;block&quot;;
            &#125;
        &#125;else&#123;
          pic=document.getElementById(&quot;pic&quot;+i);
          pic.style.display=&quot;none&quot;;
        &#125;
      &#125;
      if(nowPic&gt;=3)&#123;
        nowPic=1;
      &#125;else&#123;
        nowPic++;
      &#125;
    &#125;
  /*Firefox注册事件*/
  if(document.addEventListener)&#123;
      document.addEventListener(&quot;DOMMouseScroll&quot;,MouseWheel,false);
    &#125;
  window.onmousewheel=document.onmousewheel=MouseWheel;//IE/Opera/Chrome
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h3 align=&quot;center&quot;&gt;鼠标通过滚动滚轮切换图片&lt;/h3&gt;
  &lt;div id=&quot;picBox&quot;&gt;
    &lt;img src=&quot;http://picm.bbzhi.com/dongwubizhi/dongwuheji/dongwuheji_69803_m.jpg&quot; width=&quot;800px&quot; height=&quot;600px&quot; id=&quot;pic1&quot;&gt;
&lt;span style=&quot;white-space:pre&quot;&gt;   &lt;/span&gt;&lt;img src=&quot;http://pic1a.nipic.com/2008-12-22/2008122204359187_2.jpg&quot; width=&quot;800px&quot; height=&quot;600px&quot; id=&quot;pic2&quot; style=&quot;display:none;&quot;&gt;
&lt;span style=&quot;white-space:pre&quot;&gt;   &lt;/span&gt;&lt;img src=&quot;http://imgphoto.gmw.cn/attachement/jpg/site2/20121221/002564a60ce4123e17614e.jpg&quot; width=&quot;800px&quot; height=&quot;600px&quot; id=&quot;pic3&quot; style=&quot;display:none;&quot;&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>后来被笔者修改成如下，看代码：</p>
<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;

&lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
    &lt;title&gt;鼠标通过滚动滚轮切换图片&lt;/title&gt;
    &lt;script&gt;
      var nowPic = 1;
      function MouseWheel(e) &#123;
          var pic;
          e = e || window.event;
          for (i = 1; i &lt; 14; i++) &#123;
              if (i == nowPic) &#123;
                  if (e.wheelDelta) &#123; //IE
                      pic = document.getElementById(&quot;pic&quot; + i);
                      pic.style.display = &quot;block&quot;;
                  &#125; else if (e.detail) &#123; //Firefox
                      pic = document.getElementById(&quot;pic&quot; + i);
                      pic.style.display = &quot;block&quot;;
                  &#125;
              &#125; else &#123;
                  pic = document.getElementById(&quot;pic&quot; + i);
                  pic.style.display = &quot;none&quot;;
              &#125;
          &#125;
          if (nowPic &gt;= 13) &#123;
              nowPic = 1;
          &#125; else &#123;
              nowPic++;
          &#125;
      &#125;
      /*Firefox注册事件*/
      if (document.addEventListener) &#123;
          document.addEventListener(&quot;DOMMouseScroll&quot;, MouseWheel, false);
      &#125;
      window.onmousewheel = document.onmousewheel = MouseWheel; //IE/Opera/Chrome
    &lt;/script&gt;

    &lt;style&gt;
      #picBox img&#123;
        display: block;
        margin:0 auto;
        width: 100%;
        max-width: 100px !important;
      &#125;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;h3 align=&quot;center&quot;&gt;滚动测试---垂直&lt;/h3&gt;
    &lt;div id=&quot;picBox&quot;&gt;
        &lt;img src=&quot;src/images/c_01.png&quot; id=&quot;pic1&quot;&gt;
        &lt;img src=&quot;src/images/c_02.png&quot; id=&quot;pic2&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_03.png&quot; id=&quot;pic3&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_04.png&quot; id=&quot;pic4&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_05.png&quot; id=&quot;pic5&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_06.png&quot; id=&quot;pic6&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_07.png&quot; id=&quot;pic7&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_08.png&quot; id=&quot;pic8&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_09.png&quot; id=&quot;pic9&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_10.png&quot; id=&quot;pic10&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_11.png&quot; id=&quot;pic11&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_12.png&quot; id=&quot;pic12&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_13.png&quot; id=&quot;pic13&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_14.png&quot; id=&quot;pic14&quot; style=&quot;display:none;&quot;&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>其中这里面的14张图片分别是这个动画完成的所有帧的某个快照，都是按照顺序进行的，通常第一张图片是整个动画播放的第一帧，最后一张图片是动画播放的最后一帧。</p>
<p>我们可以想象一下，当我们把鼠标滚动到最后的时候，我们继续往下滚动的话，那么就会回到第一张，这个其实不是很好，个人觉得应该是滚动到最后一张的时候，继续滚动会往回滚，这个体验应该是比较好的。所以作为改进，我采用回文序列的方式。</p>
<pre><code>&lt;div id=&quot;picBox2&quot;&gt;
    &lt;img src=&quot;src/images/d_01.png&quot; id=&quot;pid1&quot;&gt;
    &lt;img src=&quot;src/images/d_02.png&quot; id=&quot;pid2&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_03.png&quot; id=&quot;pid3&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_04.png&quot; id=&quot;pid4&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_05.png&quot; id=&quot;pid5&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_06.png&quot; id=&quot;pid6&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_07.png&quot; id=&quot;pid7&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_08.png&quot; id=&quot;pid8&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_09.png&quot; id=&quot;pid9&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_10.png&quot; id=&quot;pid10&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_11.png&quot; id=&quot;pid11&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_12.png&quot; id=&quot;pid12&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_13.png&quot; id=&quot;pid13&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_12.png&quot; id=&quot;pid14&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_11.png&quot; id=&quot;pid15&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_10.png&quot; id=&quot;pid16&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_09.png&quot; id=&quot;pid17&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_08.png&quot; id=&quot;pid18&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_07.png&quot; id=&quot;pid19&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_06.png&quot; id=&quot;pid20&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_05.png&quot; id=&quot;pid21&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_04.png&quot; id=&quot;pid22&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_03.png&quot; id=&quot;pid23&quot; style=&quot;display:none;&quot;&gt;
    &lt;img src=&quot;src/images/d_02.png&quot; id=&quot;pid24&quot; style=&quot;display:none;&quot;&gt;
&lt;/div&gt;</code></pre>
<p>这里最后不用添加第一张了，因为到了最后会自动回到第一张，这样就实现了一个循环。</p>
<p>笔者最后想要扩展这个想法，把这个同时放多个，可是只有最后一个生效，意思就是不能实现多个，这是个遗憾，后面会继续探索。此文会更新，请持续关注。</p>
<p>笔者添加了多个的文件代码如下：</p>
<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;

&lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
    &lt;title&gt;鼠标通过滚动滚轮切换图片&lt;/title&gt;
    &lt;script&gt;
      var nowPic = 1;
      function MouseWheel(e) &#123;
          var pic;
          e = e || window.event;
          for (i = 1; i &lt; 15; i++) &#123;
              if (i == nowPic) &#123;
                  if (e.wheelDelta) &#123; //IE
                      pic = document.getElementById(&quot;pic&quot; + i);
                      pic.style.display = &quot;block&quot;;
                  &#125; else if (e.detail) &#123; //Firefox
                      pic = document.getElementById(&quot;pic&quot; + i);
                      pic.style.display = &quot;block&quot;;
                  &#125;
              &#125; else &#123;
                  pic = document.getElementById(&quot;pic&quot; + i);
                  pic.style.display = &quot;none&quot;;
              &#125;
          &#125;
          if (nowPic &gt;= 14) &#123;
              nowPic = 1;
          &#125; else &#123;
              nowPic++;
          &#125;
      &#125;
      /*Firefox注册事件*/
      if (document.addEventListener) &#123;
          document.addEventListener(&quot;DOMMouseScroll&quot;, MouseWheel, false);
      &#125;
      window.onmousewheel = document.onmousewheel = MouseWheel; //IE/Opera/Chrome
    &lt;/script&gt;

    &lt;script&gt;
      var nowPic2 = 1;
      function MouseWheel2(e) &#123;
          var pid;
          e = e || window.event;
          for (n = 1; n &lt; 25; n++) &#123;
              if (n == nowPic2) &#123;
                  if (e.wheelDelta) &#123;
                      pid = document.getElementById(&quot;pid&quot; + n);
                      pid.style.display = &quot;block&quot;;
                  &#125; else if (e.detail) &#123;
                      pid = document.getElementById(&quot;pid&quot; + n);
                      pid.style.display = &quot;block&quot;;
                  &#125;
              &#125; else &#123;
                  pid = document.getElementById(&quot;pid&quot; + n);
                  pid.style.display = &quot;none&quot;;
              &#125;
          &#125;
          if (nowPic2 &gt;= 24) &#123;
              nowPic2 = 1;
          &#125; else &#123;
              nowPic2++;
          &#125;
      &#125;

      if (document.addEventListener) &#123;
          document.addEventListener(&quot;DOMMouseScroll2&quot;, MouseWheel2, false);
      &#125;
      window.onmousewheel = document.onmousewheel = MouseWheel2;
    &lt;/script&gt;

    &lt;script&gt;
      var nowPic3 = 1;
      function MouseWheel3(e) &#123;
          var pig;
          e = e || window.event;
          for (j = 1; j &lt; 14; j++) &#123;
              if (j == nowPic3) &#123;
                  if (e.wheelDelta) &#123;
                      pig = document.getElementById(&quot;pig&quot; + j);
                      pig.style.display = &quot;block&quot;;
                  &#125; else if (e.detail) &#123;
                      pig = document.getElementById(&quot;pig&quot; + j);
                      pig.style.display = &quot;block&quot;;
                  &#125;
              &#125; else &#123;
                  pig = document.getElementById(&quot;pig&quot; + j);
                  pig.style.display = &quot;none&quot;;
              &#125;
          &#125;
          if (nowPic3 &gt;= 13) &#123;
              nowPic3 = 1;
          &#125; else &#123;
              nowPic3++;
          &#125;
      &#125;

      if (document.addEventListener) &#123;
          document.addEventListener(&quot;DOMMouseScroll&quot;, MouseWheel3, false);
      &#125;
      window.onmousewheel = document.onmousewheel = MouseWheel3;
    &lt;/script&gt;


    &lt;style&gt;
      #picBox img&#123;
        display: block;
        margin:0 auto;
        width: 100%;
        max-width: 100px !important;
      &#125;
      #picBox2 img&#123;
        display: block;
        margin:0 auto;
        transform: rotate(-90deg);
      &#125;
      #picBox3 img&#123;
        display: block;
        margin:0 auto;
        transform: rotate(-90deg);
      &#125;
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;h3 align=&quot;center&quot;&gt;滚动测试---垂直&lt;/h3&gt;
    &lt;div id=&quot;picBox&quot;&gt;
        &lt;img src=&quot;src/images/c_01.png&quot; id=&quot;pic1&quot;&gt;
        &lt;img src=&quot;src/images/c_02.png&quot; id=&quot;pic2&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_03.png&quot; id=&quot;pic3&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_04.png&quot; id=&quot;pic4&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_05.png&quot; id=&quot;pic5&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_06.png&quot; id=&quot;pic6&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_07.png&quot; id=&quot;pic7&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_08.png&quot; id=&quot;pic8&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_09.png&quot; id=&quot;pic9&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_10.png&quot; id=&quot;pic10&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_11.png&quot; id=&quot;pic11&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_12.png&quot; id=&quot;pic12&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_13.png&quot; id=&quot;pic13&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/c_14.png&quot; id=&quot;pic14&quot; style=&quot;display:none;&quot;&gt;
    &lt;/div&gt;

    &lt;h3 align=&quot;center&quot;&gt;滚动测试---回文序列&lt;/h3&gt;
    &lt;div id=&quot;picBox2&quot;&gt;
        &lt;img src=&quot;src/images/d_01.png&quot; id=&quot;pid1&quot;&gt;
        &lt;img src=&quot;src/images/d_02.png&quot; id=&quot;pid2&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_03.png&quot; id=&quot;pid3&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_04.png&quot; id=&quot;pid4&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_05.png&quot; id=&quot;pid5&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_06.png&quot; id=&quot;pid6&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_07.png&quot; id=&quot;pid7&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_08.png&quot; id=&quot;pid8&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_09.png&quot; id=&quot;pid9&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_10.png&quot; id=&quot;pid10&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_11.png&quot; id=&quot;pid11&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_12.png&quot; id=&quot;pid12&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_13.png&quot; id=&quot;pid13&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_12.png&quot; id=&quot;pid14&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_11.png&quot; id=&quot;pid15&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_10.png&quot; id=&quot;pid16&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_09.png&quot; id=&quot;pid17&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_08.png&quot; id=&quot;pid18&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_07.png&quot; id=&quot;pid19&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_06.png&quot; id=&quot;pid20&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_05.png&quot; id=&quot;pid21&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_04.png&quot; id=&quot;pid22&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_03.png&quot; id=&quot;pid23&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_02.png&quot; id=&quot;pid24&quot; style=&quot;display:none;&quot;&gt;
    &lt;/div&gt;

    &lt;h3 align=&quot;center&quot;&gt;滚动测试---横向&lt;/h3&gt;
    &lt;div id=&quot;picBox3&quot;&gt;
        &lt;img src=&quot;src/images/d_01.png&quot; id=&quot;pig1&quot;&gt;
        &lt;img src=&quot;src/images/d_02.png&quot; id=&quot;pig2&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_03.png&quot; id=&quot;pig3&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_04.png&quot; id=&quot;pig4&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_05.png&quot; id=&quot;pig5&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_06.png&quot; id=&quot;pig6&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_07.png&quot; id=&quot;pig7&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_08.png&quot; id=&quot;pig8&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_09.png&quot; id=&quot;pig9&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_10.png&quot; id=&quot;pig10&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_11.png&quot; id=&quot;pig11&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_12.png&quot; id=&quot;pig12&quot; style=&quot;display:none;&quot;&gt;
        &lt;img src=&quot;src/images/d_13.png&quot; id=&quot;pig13&quot; style=&quot;display:none;&quot;&gt;
    &lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p>最后提供一下源码包，下载地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1GaRywsIopNCKYV0swqwdww">https://pan.baidu.com/s/1GaRywsIopNCKYV0swqwdww</a>，密码：k3fw</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/21/WordPress%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/21/WordPress%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">WordPress文章添加阅读量的方法总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-21 14:59:17" itemprop="dateCreated datePublished" datetime="2018-07-21T14:59:17+08:00">2018-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:03" itemprop="dateModified" datetime="2020-10-11T11:58:03+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>方法一：这个经过笔者的实践，是起作用的，但是每次刷新一下，阅读量增加了2次而不是一次。</p>
<p>将下面代码添加到Functions.php</p>
<pre><code>//取得文章的阅读次数 
function post_views($before = &#39;点击 &#39;, $after = &#39; 次&#39;, $echo = 1) 
&#123; 
    global $post; 
    $post_ID = $post-&gt;ID; 
    $views = (int)get_post_meta($post_ID, &#39;views&#39;, true); 
    if ($echo) echo $before, number_format($views), $after; 
    else return $views; 
&#125; 
function record_visitors() 
&#123; 
    if (is_singular()) &#123; 
        global $post; 
        $post_ID = $post-&gt;ID; 
        if($post_ID) &#123; 
            $post_views = (int)get_post_meta($post_ID, &#39;views&#39;, true); 
            if(!update_post_meta($post_ID, &#39;views&#39;, ($post_views+1))) &#123; 
                add_post_meta($post_ID, &#39;views&#39;, 1, true); 
            &#125; 
        &#125;
    &#125;
&#125; 
add_action(&#39;wp_head&#39;, &#39;record_visitors&#39;);</code></pre>
<p>在想调用的地方，直接在while ( have_posts() ) {内使用下面代码即可</p>
<pre><code>&lt;?php post_views(); ?&gt;</code></pre>
<p>方法二：这个方法是采用插件+代码</p>
<p>先安装插件：<a target="_blank" rel="noopener" href="https://wordpress.org/plugins/wp-postviews-plus/">WP-PostViews Plus</a>，或者在这里下载：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1KtlFHEA5pURtVnvGsAlA_A">https://pan.baidu.com/s/1KtlFHEA5pURtVnvGsAlA_A</a>，密码：z0kr</p>
<p>安装完成后，保持默认设计即可。这里一笔者常用的enfold主题为例进行讲解。</p>
<p>默认情况下这个主题是没有的这个功能的。然后笔者在这个主题上通过浏览器开发者工具定位到博客详情页的位置：</p>
<p><img src="https://i.imgur.com/8I3GWrU.png"></p>
<p>红色框中的class为：post-meta-infos</p>
<p>通过源码的全文搜索，我们把这个定位到了</p>
<p><img src="https://i.imgur.com/gamVKeF.png"></p>
<p>然后进入到各自的文件所在的位置，添加以下代码：</p>
<pre><code>echo _get_post_views();</code></pre>
<p><img src="https://i.imgur.com/ytLpSst.png"></p>
<p>然后在主题的functions.php文件中添加代码：</p>
<pre><code>function _get_post_views($before = &#39;阅读(&#39;, $after = &#39;)&#39;) &#123;
    global $post;
    $post_ID = $post-&gt;ID;
    $views = (int) get_post_meta($post_ID, &#39;views&#39;, true);
    return $before . $views . $after;
&#125;</code></pre>
<p>完成后，可以进入的文章的列表页去看效果了。</p>
<p>阅读量的计数方式是每次访问递增一次，或者是刷新一次递增一次。</p>
<p>文章编写纯属为了方便自己。如果有更好的方法可以分享给大家。如果有什么问题可以与笔者取得联络，QQ：791447771.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/17/php%E5%92%8CJavaScript%E4%B8%AD%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6%E8%8E%B7%E5%8F%96%E4%BB%A5%E5%8F%8Ajson%E6%95%B0%E6%8D%AE%E7%9A%84%E9%81%8D%E5%8E%86%E7%9A%84%E5%BE%AE%E5%B0%8F%E5%B7%AE%E5%BC%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/17/php%E5%92%8CJavaScript%E4%B8%AD%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6%E8%8E%B7%E5%8F%96%E4%BB%A5%E5%8F%8Ajson%E6%95%B0%E6%8D%AE%E7%9A%84%E9%81%8D%E5%8E%86%E7%9A%84%E5%BE%AE%E5%B0%8F%E5%B7%AE%E5%BC%82/" class="post-title-link" itemprop="url">php和JavaScript中循环语句，字段长度获取以及json数据的遍历的微小差异</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-17 20:55:50" itemprop="dateCreated datePublished" datetime="2018-07-17T20:55:50+08:00">2018-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:02" itemprop="dateModified" datetime="2020-10-11T11:58:02+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由于平时经常用到循环语句，在php中以及在JavaScript中还是存在一些差别的。</p>
<p>在JavaScript中的for循环语句写法如下：</p>
<pre><code>htmlobjusercount = $.ajax(&#123;
      url: &quot;data.json&quot;,
      type: &quot;get&quot;,
      dataType: &quot;json&quot;,
      contentType: &quot;application/json&quot;,
      success: function (res) &#123;
          if (typeof res === &#39;string&#39;) &#123;
              res = JSON.parse(res);
          &#125;
          var usercount = new Array();
          for (var i = 0; i &lt; res.length; i++) &#123;
              usercount.push(res[i].usertotal);
          &#125;
          $(&quot;#accessusertotalcount&quot;).append(usercount);
      &#125;,
      error: function (xhr, err, exception) &#123;
          console.log(err);
      &#125;
  &#125;);</code></pre>
<p>看这个里面的for循环：</p>
<pre><code>for (var i = 0; i &lt; res.length; i++) &#123;
    usercount.push(res[i].usertotal);
&#125;</code></pre>
<p>我们来剖析这句话，这里的变量i，需要定义一下，<code>var i=0;</code>，而<code>res</code>是json数据格式的数据。如果想要获取键为usertotal的值得列表，那么就这样写：<code>res[i].usertotal</code>。</p>
<p>好的，那么我们再来看下在php中是如何写循环，以及如何遍历json数据的呢？</p>
<pre><code>public function huilv()&#123;
    $url = &quot;http://web.juhe.cn:8080/finance/exchange/frate&quot;;
    $params = array(
          &quot;key&quot; =&gt; &quot;***********************&quot;,
          &quot;type&quot; =&gt; &quot;0&quot;,//两种格式(0或者1,默认为0)
    );
    $paramstring = http_build_query($params);
    $content = juhecurl($url,$paramstring);
    $result = json_decode($content,true);
    if($result)&#123;
        if($result[&#39;error_code&#39;]==&#39;0&#39;)&#123;
            echo &#39;&lt;table class=&quot;biaoge&quot;&gt;
                        &lt;th&gt;最低价&lt;/th&gt;
                        &lt;th&gt;最高价&lt;/th&gt;
                        &lt;th&gt;开盘价&lt;/th&gt;
                        &lt;th&gt;收盘价&lt;/th&gt;
                        &lt;th&gt;日期&lt;/th&gt;
                        &lt;th&gt;当前汇率&lt;/th&gt;&#39;;
            for($i=1;$i&lt;count($result[&#39;result&#39;][0]);$i++)&#123;
                echo &#39;&lt;tr&gt;&#39;;
                echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;lowPic&quot;].&#39;&lt;/td&gt;&#39;;
                echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;highPic&quot;].&#39;&lt;/td&gt;&#39;;
                echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;buyPic&quot;].&#39;&lt;/td&gt;&#39;;
                echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;closePri&quot;].&#39;&lt;/td&gt;&#39;;
                echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;date&quot;].&#39;&lt;/td&gt;&#39;;
                echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;currency&quot;].&#39;&lt;/td&gt;&#39;;
                echo &#39;&lt;/tr&gt;&#39;;
            &#125;
            echo &quot;&lt;/table&gt;&quot;;
        &#125;else&#123;
            echo $result[&#39;error_code&#39;].&quot;:&quot;.$result[&#39;reason&#39;];
        &#125;
    &#125;else&#123;
        echo &quot;请求失败&quot;;
    &#125;
&#125;</code></pre>
<p>好的，我们重点看循环那里，php中的循环：</p>
<pre><code>for($i=1;$i&lt;count($result[&#39;result&#39;][0]);$i++)&#123;
    echo &#39;&lt;tr&gt;&#39;;
    echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;lowPic&quot;].&#39;&lt;/td&gt;&#39;;
    echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;highPic&quot;].&#39;&lt;/td&gt;&#39;;
    echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;buyPic&quot;].&#39;&lt;/td&gt;&#39;;
    echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;closePri&quot;].&#39;&lt;/td&gt;&#39;;
    echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;date&quot;].&#39;&lt;/td&gt;&#39;;
    echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;currency&quot;].&#39;&lt;/td&gt;&#39;;
    echo &#39;&lt;/tr&gt;&#39;;
&#125;</code></pre>
<p>相比于JavaScript，php的是<code>$i</code>，而且不需要定义。还有一个就是数据的长度不是length，而是count。接着由于这里的$result的数据格式如下：</p>
<pre><code>Array ( [data1] =&gt; Array ( [buyPic] =&gt; 0.7397 [closePri] =&gt; 0.7397 [code] =&gt; AUDUSD [color] =&gt; [currency] =&gt; 澳元美元 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; -0.0024 [diffPer] =&gt; -0.3234% [highPic] =&gt; 0.7438 [lowPic] =&gt; 0.7391 [openPri] =&gt; 0.7420 [range] =&gt; 0.64% [sellPic] =&gt; 0.7398 [yesPic] =&gt; 0.7421 ) [data2] =&gt; Array ( [buyPic] =&gt; 94.6951 [closePri] =&gt; 94.6951 [code] =&gt; DINIW [color] =&gt; [currency] =&gt; 美元指数 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.1755 [diffPer] =&gt; 0.1857% [highPic] =&gt; 94.7575 [lowPic] =&gt; 94.2929 [openPri] =&gt; 94.5143 [range] =&gt; 0.49% [sellPic] =&gt; 94.6951 [yesPic] =&gt; 94.5196 ) [data3] =&gt; Array ( [buyPic] =&gt; 1.1697 [closePri] =&gt; 1.1697 [code] =&gt; EURUSD [color] =&gt; [currency] =&gt; 欧元美元 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; -0.0012 [diffPer] =&gt; -0.1025% [highPic] =&gt; 1.1745 [lowPic] =&gt; 1.1689 [openPri] =&gt; 1.1710 [range] =&gt; 0.48% [sellPic] =&gt; 1.1698 [yesPic] =&gt; 1.1709 ) [data4] =&gt; Array ( [buyPic] =&gt; 1.3162 [closePri] =&gt; 1.3162 [code] =&gt; GBPUSD [color] =&gt; [currency] =&gt; 英镑美元 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; -0.0075 [diffPer] =&gt; -0.5666% [highPic] =&gt; 1.3269 [lowPic] =&gt; 1.3144 [openPri] =&gt; 1.3238 [range] =&gt; 0.95% [sellPic] =&gt; 1.3165 [yesPic] =&gt; 1.3237 ) [data5] =&gt; Array ( [buyPic] =&gt; 0.6796 [closePri] =&gt; 0.6796 [code] =&gt; NZDUSD [color] =&gt; [currency] =&gt; 新西兰元美元 [datatime] =&gt; 21:34:52 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.0021 [diffPer] =&gt; 0.31% [highPic] =&gt; 0.6840 [lowPic] =&gt; 0.6755 [openPri] =&gt; 0.6775 [range] =&gt; 1.25% [sellPic] =&gt; 0.6799 [yesPic] =&gt; 0.6775 ) [data6] =&gt; Array ( [buyPic] =&gt; 1.3175 [closePri] =&gt; 1.3175 [code] =&gt; USDCAD [color] =&gt; [currency] =&gt; 美元加元 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.0037 [diffPer] =&gt; 0.2816% [highPic] =&gt; 1.3182 [lowPic] =&gt; 1.3110 [openPri] =&gt; 1.3139 [range] =&gt; 0.55% [sellPic] =&gt; 1.3175 [yesPic] =&gt; 1.3138 ) [data7] =&gt; Array ( [buyPic] =&gt; 0.9958 [closePri] =&gt; 0.9958 [code] =&gt; USDCHF [color] =&gt; [currency] =&gt; 美元瑞郎 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; -0.001 [diffPer] =&gt; -0.1003% [highPic] =&gt; 0.9974 [lowPic] =&gt; 0.9926 [openPri] =&gt; 0.9965 [range] =&gt; 0.48% [sellPic] =&gt; 0.9959 [yesPic] =&gt; 0.9968 ) [data8] =&gt; Array ( [buyPic] =&gt; 6.7013 [closePri] =&gt; 6.7016 [code] =&gt; USDCNY [color] =&gt; [currency] =&gt; 美元人民币 [datatime] =&gt; 21:34:06 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.0105 [diffPer] =&gt; 0.1569% [highPic] =&gt; 6.7043 [lowPic] =&gt; 6.6707 [openPri] =&gt; 6.6869 [range] =&gt; 0.5% [sellPic] =&gt; 6.7013 [yesPic] =&gt; 6.6911 ) [data9] =&gt; Array ( [buyPic] =&gt; 7.8488 [closePri] =&gt; 7.8488 [code] =&gt; USDHKD [color] =&gt; [currency] =&gt; 美元港元 [datatime] =&gt; 21:34:38 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.00050 [diffPer] =&gt; 0.0064% [highPic] =&gt; 7.8489 [lowPic] =&gt; 7.8469 [openPri] =&gt; 7.8483 [range] =&gt; 0.03% [sellPic] =&gt; 7.8494 [yesPic] =&gt; 7.8483 ) [data10] =&gt; Array ( [buyPic] =&gt; 112.67 [closePri] =&gt; 112.67 [code] =&gt; USDJPY [color] =&gt; [currency] =&gt; 美元日元 [datatime] =&gt; 21:34:56 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.4 [diffPer] =&gt; 0.3563% [highPic] =&gt; 112.68 [lowPic] =&gt; 112.22 [openPri] =&gt; 112.26 [range] =&gt; 0.41% [sellPic] =&gt; 112.67 [yesPic] =&gt; 112.27 ) [data11] =&gt; Array ( [buyPic] =&gt; 4.0445 [closePri] =&gt; 4.0445 [code] =&gt; USDMYR [color] =&gt; [currency] =&gt; 美元马币 [datatime] =&gt; 17:42:05 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.0045 [diffPer] =&gt; 0.1114% [highPic] =&gt; 4.0470 [lowPic] =&gt; 4.0400 [openPri] =&gt; 4.0400 [range] =&gt; 0.17% [sellPic] =&gt; 0.0000 [yesPic] =&gt; 4.0400 ) [data12] =&gt; Array ( [buyPic] =&gt; 1.3625 [closePri] =&gt; 1.3625 [code] =&gt; USDSGD [color] =&gt; [currency] =&gt; 美元新加坡元 [datatime] =&gt; 21:34:55 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.00060 [diffPer] =&gt; 0.0441% [highPic] =&gt; 1.3633 [lowPic] =&gt; 1.3585 [openPri] =&gt; 1.3619 [range] =&gt; 0.35% [sellPic] =&gt; 1.3627 [yesPic] =&gt; 1.3619 ) [data13] =&gt; Array ( [buyPic] =&gt; 30.5510 [closePri] =&gt; 30.5510 [code] =&gt; USDTWD [color] =&gt; [currency] =&gt; 美元台币 [datatime] =&gt; 21:34:51 [date] =&gt; 2018-07-17 [diffAmo] =&gt; 0.072 [diffPer] =&gt; 0.2362% [highPic] =&gt; 30.5700 [lowPic] =&gt; 30.4340 [openPri] =&gt; 30.4940 [range] =&gt; 0.45% [sellPic] =&gt; 30.6510 [yesPic] =&gt; 30.4790 ) )</code></pre>
<p>由此可以看出<code>$result[&#39;result&#39;][0]</code>才是我们最关心的数据，所以我们要找的是这个部分的，注意写法。</p>
<p>这里有个比较巧妙的是，由于这个数据里面的键不是相同的，而是data1,data2,data3…这样的类似递增的，因此这里写法如下：</p>
<pre><code>$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;]</code></pre>
<p>好的，来到这里之后，我们就观察一下上面的那个数据格式，通常有json格式，也有数组格式的。这里既然有了数据，那么我们就可以根据结构进行逐个的遍历了。</p>
<p>最后的结果就是：</p>
<pre><code>echo &#39;&lt;tr&gt;&#39;;
echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;lowPic&quot;].&#39;&lt;/td&gt;&#39;;
echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;highPic&quot;].&#39;&lt;/td&gt;&#39;;
echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;buyPic&quot;].&#39;&lt;/td&gt;&#39;;
echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;closePri&quot;].&#39;&lt;/td&gt;&#39;;
echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;date&quot;].&#39;&lt;/td&gt;&#39;;
echo &#39;&lt;td&gt;&#39;.$result[&quot;result&quot;][0][&quot;data&quot;.&quot;$i&quot;][&quot;currency&quot;].&#39;&lt;/td&gt;&#39;;
echo &#39;&lt;/tr&gt;&#39;;</code></pre>
<p>最后效果：</p>
<p><img src="https://i.imgur.com/bsMdhqo.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/17/magento%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%EF%BC%8C%E6%A8%A1%E5%9D%97%E5%8A%9F%E8%83%BD%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA%E5%88%B0%E5%89%8D%E5%8F%B0%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%AE%E5%BD%95%E5%A6%82%E4%BD%95%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%A6%82%E4%BD%95%E8%BF%90%E7%94%A8%E6%A8%A1%E5%9D%97%E7%9A%84%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6%E7%9A%84%E5%BF%83%E5%BE%97%E5%92%8C%E6%97%A5%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/17/magento%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%EF%BC%8C%E6%A8%A1%E5%9D%97%E5%8A%9F%E8%83%BD%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA%E5%88%B0%E5%89%8D%E5%8F%B0%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%AE%E5%BD%95%E5%A6%82%E4%BD%95%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%A6%82%E4%BD%95%E8%BF%90%E7%94%A8%E6%A8%A1%E5%9D%97%E7%9A%84%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6%E7%9A%84%E5%BF%83%E5%BE%97%E5%92%8C%E6%97%A5%E8%AE%B0/" class="post-title-link" itemprop="url">magento自定义模块开发，模块功能如何显示到前台，数据库目录如何读取数据，如何运用模块的模型文件的心得和日记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-17 10:22:01" itemprop="dateCreated datePublished" datetime="2018-07-17T10:22:01+08:00">2018-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:01" itemprop="dateModified" datetime="2020-10-11T11:58:01+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>大部分跟着教程走就行了。标准教程地址：<a target="_blank" rel="noopener" href="https://devdocs.magento.com/guides/m1x/magefordev/mage-for-dev-1.html">https://devdocs.magento.com/guides/m1x/magefordev/mage-for-dev-1.html</a></p>
<p>可能当你把这个看完之后再开始，会觉得很没效率。在什么都追求速成的年代，这里给大家粘贴一个案例吧。</p>
<p>关于magento模块自定义开发（开发自己的模块）：</p>
<p>创建模块思路：</p>
<ol>
<li>创建一个 test模块</li>
<li>为这个模块配置路由</li>
<li>为这个模块创建执行控制器</li>
</ol>
<p><strong>第一步：</strong></p>
<p>我们要创建一个模块的目录结构</p>
<p>app/code/local/公司名称/模块名字/…</p>
<p>//命名规则</p>
<pre><code>app/code/local/Goglobalis/Test/Block 
app/code/local/Goglobalis/Test/controllers 
app/code/local/Goglobalis/Test/etc
app/code/local/Goglobalis/Test/Helper 
app/code/local/Goglobalis/Test/Model 
app/code/local/Goglobalis/Test/sql </code></pre>
<p>第二步：创建config文件，并为模块分配路由</p>
<pre><code>app/code/local/Goglobalis/Test/etc/config.xml</code></pre>
<p>编辑config.xml 内容如下：</p>
<pre><code>&lt;config&gt;
    &lt;modules&gt;&lt;!-- 模块版本信息--&gt;
        &lt;Goglobalis_Test&gt;
            &lt;version&gt;0.1&lt;/version&gt;
        &lt;/Goglobalis_Test&gt;
    &lt;/modules&gt;
    &lt;frontend&gt;&lt;!--定义magento区 frontend网站前台--&gt;
        &lt;routers&gt;&lt;!--&lt;routers&gt;标签有时候包含的是路由对象的定义,有时候包含的是路径的定义。路由对象是进行路由操作的实体，而路径仅仅是路由对象的一个参数--&gt;
            &lt;test&gt;
                &lt;use&gt;standard&lt;/use&gt;&lt;!--使用标准固定写法--&gt;
                    &lt;args&gt;
                        &lt;module&gt;Goglobalis_Test&lt;/module&gt;&lt;!-- 模块全名  定义你的模块文件--&gt;
                        &lt;frontName&gt;test&lt;/frontName&gt;&lt;!-- 模块名称（此处仅支持小写）--&gt;
                    &lt;/args&gt; 
            &lt;/test&gt;
        &lt;/routers&gt;
    &lt;/frontend&gt;
&lt;/config&gt;</code></pre>
<p>第三步：创建一个系统配置文件来激活这个模块</p>
<p>然后我们要创建一个系统配置文件来激活这个模块 app/etc/modules/Goglobalis_Tese.xml</p>
<p>内容如下：</p>
<pre><code>&lt;config&gt;
    &lt;modules&gt;
        &lt;Goglobalis_Test&gt;
            &lt;active&gt;true&lt;/active&gt;
            &lt;codePool&gt;local&lt;/codePool&gt;
        &lt;/Goglobalis_Test&gt;
    &lt;/modules&gt;
&lt;/config&gt;</code></pre>
<p>激活后：让我们检查一下模块是不是已经被激活</p>
<ol>
<li>清空 Magento 缓存</li>
<li>在管理后台，进入 System-&gt;Configuration-&gt;Advanced</li>
<li>展开“DisableModulesOutput”</li>
<li>确认 Goglobalis_Test显示出来了</li>
</ol>
<p><img src="https://i.imgur.com/kuRhA6s.png"></p>
<p>第四步：为路由创建创建执行控制器</p>
<p>app/code/local/Goglobalis/Test/controllers/indexController.php</p>
<pre><code>&lt;?php
//我们自己定义的属于 frontend 区的执行控制器都应该继承 Mage_Core_Controller_Front_Action
    class Goglobalis_Test_indexController extends Mage_Core_Controller_Front_Action&#123;
        public function indexAction()&#123;
            echo &#39;Hellw Word!&#39;;
        &#125;

    &#125;</code></pre>
<p>清空 Magento 缓存，请求如下 URL <a target="_blank" rel="noopener" href="http://exmaple.com/test/index/index">http://exmaple.com/test/index/index</a> 如果你看到一个空白页面上面写着“Hello World!”，那么恭喜你，你已经成功 创建了你的第一个 Magento 控制器！</p>
<p>笔者在处理这种问题的时候由于magento代码是放在maeg这个目录下，所以这里的请求地址是：</p>
<pre><code>http://example.com/maeg/test/index/index</code></pre>
<p>发现打开是404，后来发现需要这样访问：</p>
<pre><code>http://example.com/maeg/index.php/test/index/index</code></pre>
<p>才能成功，这个时候我们需要解决去除index.php的问题，可以参考笔者另外一篇文章：</p>
<p>如何命名执行控制器？</p>
<p>如上我们创建的事index控制器，那如果想创建login控制器呢？</p>
<p>只需要改动第四步两个地方即可：</p>
<p><img src="https://i.imgur.com/h68amT6.png"></p>
<p>改成loginController即可。</p>
<p>Magento 默认的路由的规则如下 <a target="_blank" rel="noopener" href="http://www.efish.tk/frontName/actionControllerName/actionMethod/">http://www.efish.tk/frontName/actionControllerName/actionMethod/</a></p>
<p>所以在我们请求的 URL <a target="_blank" rel="noopener" href="http://exmaple.com/test/index/index">http://exmaple.com/test/index/index</a> 其中“test”是“frontName”，第一个“index”是执行控制器（Action Controller）的名字，第二个“index”是执行方法的名字。对比我们写的执行 控制器代码，我们不难发现执行方法的定义是执行方法名字加上 “Action”关 键字 public function indexAction(){…} Magento 根据命名规则找到执行控制器文件并实例化，然后再根据命名规则调用 指定的执行方法。</p>
<p>如果 URL 没有给出执行控制器名字或者执行方法，Magento 会 用默认的“index”来替代，所以下面三个 URL 是等价的</p>
<pre><code>http://exmaple.com/test/index/index
http://exmaple.com/test/index
http://exmaple.com/test</code></pre>
<p>我们再来看一个例子。</p>
<p>如果 URL 如下 <a target="_blank" rel="noopener" href="http://exmaple.com/checkout/cart/add">http://exmaple.com/checkout/cart/add</a></p>
<p>Magento 的执行步骤如下</p>
<ol>
<li>查询全局配置，找到 frontName“checkout”对应的模块，Mage_Checkout</li>
<li>找到执行控制器 “Mage_Checkout_CartController”</li>
<li>调用执行控制器的“addAction”方法</li>
</ol>
<hr>
<p>笔者在实践中把整个分类得很细，以便对每个文件所扮演的角色了如指掌，发现即使我们没有新建一个模块，我们也可以在网站的配置目录里面新建一个配置文件，比如笔者在app/etc/modules中新建了一个配置文件：Test_Topbanner.xml，这个文件没有对应的模块被新建，它是独立的。我们新建这个文件之后，代码如下：</p>
<pre><code>&lt;config&gt;
    &lt;modules&gt;
        &lt;Test_Topbanner&gt;
            &lt;active&gt;true&lt;/active&gt;
            &lt;codePool&gt;local&lt;/codePool&gt;
        &lt;/Test_Topbanner&gt;
    &lt;/modules&gt;
&lt;/config&gt;</code></pre>
<p>然后打开后台，找到Advanced那里，已经有了：</p>
<p><img src="https://i.imgur.com/dT8NhDK.png"></p>
<p>说明这个目录下的文件在模块开发中的角色是用来启动模块的，仅此而已，但是很重要，如果没有启动，那么我们自定义模块就不能起作用。</p>
<hr>
<p>我们平时看到用magento开发模块，总是echo一下就完事了，感觉没有什么动力，也不知道如何更加深入体验一下模块开发对商城的贡献。好的，笔者这里就推荐一下钥匙大神的文章——开发一个计算器类的小应用到magento中。</p>
<p>且看我们如何开展这个。</p>
<p>首先我们跟往常那样，新建一个包（Test），也叫做命名空间。然后在这个包下面新建一个新的模块，我们把这个命名为：Counter，路径如下：app/code/local/Test/Counter</p>
<p><img src="https://i.imgur.com/tCkMYn1.png"></p>
<p>我们需要穿件这些目录和文件。</p>
<p>这个案例的目的是</p>
<p>1.数值是如何在magento的Controllers传递到Block中的，又是如何在phtml文件中输出的。</p>
<p>2.controllers中的action使用。</p>
<p>3.了解使用form post参数和如何get参数。</p>
<p>首先来看下这个案例中的文件结构</p>
<pre><code>/* 声明插件，指定codePool、插件开启状态等 */
app/etc/modules/Test_Counter.xml</code></pre>
<hr>
<pre><code>/* 模板.phtml文件中使用的方法在此文件中声明，此案例中此文件将计算结果传递到.phtml文件 */
app/code/local/Test/Counter/Block/Counter.php</code></pre>
<hr>
<pre><code>/* 我们此案例的的控制器 http://magento-root-folder/module-name/controller-name/action-neame
此例中IndexController控制器中的一个action获取counter.phtml中传来的参数，并将参数传递到Counter.php，在Counter.php中计算后将结果返回到counter.phtml输出 */
app/code/local/Test/Counter/controllers/IndexController.php</code></pre>
<hr>
<pre><code>/* 主要的插件配置文件 */
app/code/local/Test/Counter/etc/config.xml</code></pre>
<hr>
<pre><code>/* 前台显示模板的layout */
app/design/frontend/default/default/layout/counter.xml
/* 前台模板文件，我们的form和结果最终就在这个文件输出，此文件直接使用$this-&gt;调用与其相应的block中的方法，本例中我们只使用这一个模板页面。 */
app/design/frontend/yourtheme/default/template/counter/counter.phtml</code></pre>
<hr>
<pre><code>/* Helper此例不使用，放在这显得气派，充门面 */
app/code/local/Test/Counter/Helper/Data.php</code></pre>
<hr>
<p>我们先从简单的开始，那就先在前台的模板文件counter.phtml中写个提交的form吧，form我也忘了具体怎么写了，毕竟不天天写这个，没关系，我们有google，代码如下。</p>
<p>app/design/frontend/yourtheme/default/template/counter/counter.phtml文件中代码片段</p>
<pre><code>&lt;form action=&quot;&lt;?php echo Mage::getUrl(&#39;counter&#39;) ?&gt;&quot; method=&quot;post&quot; id=&quot;orderreport-form&quot;&gt;
    &lt;fieldset&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;label for=&quot;NUM1&quot;&gt;&lt;?php echo $this-&gt;__(&#39;NUM1: &#39;) ?&gt;&lt;span class=&quot;required&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                &lt;input type=&quot;text&quot; id=&quot;NUM1&quot; name=&quot;NUM1&quot; class=&quot;input-text required-entry  validate-alphanum&quot; /&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;label for=&quot;NUM2&quot;&gt;&lt;?php echo $this-&gt;__(&#39;NUM2: &#39;) ?&gt;&lt;span class=&quot;required&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                &lt;input type=&quot;text&quot; id=&quot;NUM2&quot; name=&quot;NUM2&quot; class=&quot;input-text required-entry validate-alphanum&quot; /&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;input type=&quot;submit&quot; value=&quot;&lt;?php echo $this-&gt;__(&#39;sub&#39;) ?&gt;&quot; /&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/fieldset&gt;
&lt;/form&gt;

&lt;ul&gt;
&lt;li&gt;result:&lt;?php echo $this-&gt;showresult(); ?&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    var customForm = new VarienForm(&#39;orderreport-form&#39;);
&lt;/script&gt;</code></pre>
<p>注意<code>action=&quot;&lt;?php echo Mage::getUrl(&#39;counter&#39;) ?&gt;&quot;</code> 等同于 <code>action=&quot;&lt;?php echo Mage::getUrl(&#39;counter/index/index&#39;) ?&gt;&quot;</code></p>
<p><a target="_blank" rel="noopener" href="http://127.0.0.1/magento/index.php/counter/index/index%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E7%9A%84IndexController.php%E4%B8%AD%E7%9A%84index%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5%E7%AE%80%E5%86%99%E3%80%82">http://127.0.0.1/magento/index.php/counter/index/index如果使用默认的IndexController.php中的index控制器，可以省略简写。</a></p>
<p>有数据的post了，我们就在counter/index/index这个path下的indexAction中接收这个参数</p>
<p>app/code/local/Test/Counter/controllers/IndexController.php文件中代码片段。</p>
<pre><code>&lt;?php
class Test_Counter_IndexController extends Mage_Core_Controller_Front_Action
&#123;
    public function indexAction()
    &#123;

        if ($this-&gt;getRequest()-&gt;isPost())&#123; /* 首先判断是否有post发生 */
            $nu1 = $this-&gt;getRequest()-&gt;getParam(&#39;NUM1&#39;); /* 截获参数 */
            $nu2 = $this-&gt;getRequest()-&gt;getParam(&#39;NUM2&#39;);
            Mage::register(&#39;nu1&#39;, $nu1);/* 传递到block */
            Mage::register(&#39;nu2&#39;, $nu2);
        &#125;

        $this-&gt;loadLayout();
        $this-&gt;renderLayout();
    &#125;
&#125;</code></pre>
<p>既然在controllers中有了传递到block的方法，下一步就在block中获取app/code/local/Test/Counter/Block/Counter.php文件中代码片段。</p>
<pre><code>&lt;?php
class Test_Counter_Block_Counter extends Mage_Core_Block_Template
&#123;
    protected $nu1 = null;
    protected $nu2 = null;
    public function showresult()&#123;
        $this-&gt;nu1 = Mage::registry(&#39;nu1&#39;); /* 获得从controllers中传递来的参数 */
        $this-&gt;nu2 = Mage::registry(&#39;nu2&#39;);
        return $this-&gt;nu1 * $this-&gt;nu2;

    &#125;
&#125;</code></pre>
<p>此block文件中的<code>showresult()</code>方法在phtml文件中可以试用<code>$this-&gt;</code>直接调用。</p>
<p>这样我们就差最后一步就是在我们的模板文件中输出结果了在app/design/frontend/yourtheme/default/template/counter/counter.phtml文件中添加输出结果的代码</p>
<pre><code>&lt;ul&gt;
    &lt;li&gt;result:&lt;?php echo $this-&gt;showresult(); ?&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre>
<p>当然我们还可以为助手函数文件夹（Helper）添加一个文件data.php，里面不写什么东西，意思就是采用默认的方式：</p>
<pre><code>&lt;?php

class Test_Counter_Helper_Data extends Mage_Core_Helper_Abstract
&#123;

&#125;</code></pre>
<p>最后，我们需要对配置文件目录etc里面添加一个配置文件config.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;config&gt;
    &lt;modules&gt;
        &lt;Test_Counter&gt;
            &lt;version&gt;0.1.0&lt;/version&gt;
        &lt;/Test_Counter&gt;
    &lt;/modules&gt;
    &lt;frontend&gt;
        &lt;routers&gt;
            &lt;counter&gt;
                &lt;use&gt;standard&lt;/use&gt;
                &lt;args&gt;
                    &lt;module&gt;Test_Counter&lt;/module&gt;
                    &lt;frontName&gt;counter&lt;/frontName&gt;
                &lt;/args&gt;
            &lt;/counter&gt;
        &lt;/routers&gt;
        &lt;layout&gt;
            &lt;updates&gt;
                &lt;counter&gt;
                    &lt;file&gt;counter.xml&lt;/file&gt;
                &lt;/counter&gt;
            &lt;/updates&gt;
        &lt;/layout&gt;
    &lt;/frontend&gt;
    &lt;global&gt;
        &lt;models&gt;
            &lt;counter&gt;
                &lt;class&gt;Test_Counter_Model&lt;/class&gt;
                &lt;resourceModel&gt;counter_mysql4&lt;/resourceModel&gt;
            &lt;/counter&gt;
        &lt;/models&gt;
        &lt;blocks&gt;
            &lt;counter&gt;
                &lt;class&gt;Test_Counter_Block&lt;/class&gt;
            &lt;/counter&gt;
        &lt;/blocks&gt;
        &lt;helpers&gt;
            &lt;counter&gt;
                &lt;class&gt;Test_Counter_Helper&lt;/class&gt;
            &lt;/counter&gt;
        &lt;/helpers&gt;
    &lt;/global&gt;
&lt;/config&gt;</code></pre>
<p>好的，我们在添加一个布局文件（counter.xml），告诉这个网站调用哪个模板文件来显示这个模块（Counter）的逻辑结果：</p>
<pre><code>app/design/frontend/yourtheme/default/layout/counter.xml</code></pre>
<p>代码如下:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;layout version=&quot;0.1.0&quot;&gt;
    &lt;default&gt;
    &lt;/default&gt;
    &lt;counter_index_index&gt;
        &lt;reference name=&quot;content&quot;&gt;
            &lt;block type=&quot;counter/counter&quot; name=&quot;counter&quot; template=&quot;counter/counter.phtml&quot;/&gt;
        &lt;/reference&gt;
    &lt;/counter_index_index&gt;
&lt;/layout&gt;</code></pre>
<p>这个阶段的最后结果：</p>
<p><img src="https://i.imgur.com/kPotVG3.png"></p>
<p>完整代码下载地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1w-hnarJ7xBZzKp2aIuC99A">https://pan.baidu.com/s/1w-hnarJ7xBZzKp2aIuC99A</a>，密码：tnet</p>
<p>值得提醒的是，本文仅仅是一个日记，资源来自hellokeykey的demo，这个正是本文的一个理论基础，希望大家支持他。</p>
<p>作为这个扩展，笔者进行了进一步的探索，要做一个汇率表功能：</p>
<p>首先获取api数据，然后把代码写入Block里面的Counter.php文件：</p>
<pre><code>public function huilv()&#123;
...
&#125;

function juhecurl($url,$params=false,$ispost=0)&#123;
...
&#125;</code></pre>
<p>然后笔者还添加了一些强化计算器的代码，由于篇幅有限，大家可以下载这个作为模块开发的参考。</p>
<p>完整代码可以找到下载地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1QZ7yDevbybqUFuvBblZofg">https://pan.baidu.com/s/1QZ7yDevbybqUFuvBblZofg</a>，密码：bbh6</p>
<hr>
<p>我们经常自定义模块的时候，发现我们很少用到sql这个文件夹，那么我们如何让这个被运用到我们的模块中呢？</p>
<p>follow me.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/17/magento%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%92%8C%E4%B8%8D%E8%83%BD%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE%E5%92%8C%E6%A3%80%E6%B5%8B%E6%8E%AA%E6%96%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/17/magento%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%92%8C%E4%B8%8D%E8%83%BD%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE%E5%92%8C%E6%A3%80%E6%B5%8B%E6%8E%AA%E6%96%BD/" class="post-title-link" itemprop="url">magento安装环境配置和不能安装成功的一些建议和检测措施</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-17 09:42:30" itemprop="dateCreated datePublished" datetime="2018-07-17T09:42:30+08:00">2018-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:00" itemprop="dateModified" datetime="2020-10-11T11:58:00+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>参考官方的系统需求：<a target="_blank" rel="noopener" href="http://www.magentocommerce.com/system-requirements">http://www.magentocommerce.com/system-requirements</a></p>
<pre><code>Supported Operating Systems:
    Linux x86, x86-64
Supported Web Servers:
    Apache 1.3.x
    Apache 2.0.x
    Apache 2.2.x
Supported Browsers:
    Microsoft Internet Explorer 6 and above
    Mozilla Firefox 2.0 and above
    Apple Safari 2.x
    Google Chrome
    Adobe Flash browser plug-in should be installed
PHP Compatibility:
    5.2
    Required extensions:
        PDO_MySQL
        simplexml
        mcrypt
        hash
        GD
        DOM
        iconv
        curl
        SOAP (if Webservices API is to be used)
    Safe_mode off
    Memory_limit no less than 256Mb (preferably 512)
MySQL:
    4.1.20 or newer
    InnoDB storage engine
SSL:
    If HTTPS is used to work in the admin, SSL certificate should be valid. Self-signed SSL certificates are not supported
Server – hosting – setup:
    Ability to run scheduled jobs (crontab) with PHP 5
    Ability to override options in .htaccess files</code></pre>
<p>大家可以用这个php检测文件检测你的主机是否达到了magento的要求。下载地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1MMXvctiRk6LCAGm4Kc7deA">https://pan.baidu.com/s/1MMXvctiRk6LCAGm4Kc7deA</a>，密码：dsnw</p>
<p>apache php mysql的版本和需要的模板要达到上面的配置环境的最低要求。还有，请记得你的apache要开启对.htaccess的支持，如果不开启这个支持，会导致无法安装magento的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/17/magento%E9%87%8D%E5%86%99url%E8%A7%A3%E5%86%B3%E6%B2%A1%E6%9C%89index-php%E7%9A%84%E6%97%B6%E5%80%99%E5%87%BA%E7%8E%B0404%E6%8A%A5%E9%94%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/17/magento%E9%87%8D%E5%86%99url%E8%A7%A3%E5%86%B3%E6%B2%A1%E6%9C%89index-php%E7%9A%84%E6%97%B6%E5%80%99%E5%87%BA%E7%8E%B0404%E6%8A%A5%E9%94%99/" class="post-title-link" itemprop="url">magento重写url解决没有index.php的时候出现404报错</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-17 08:55:13" itemprop="dateCreated datePublished" datetime="2018-07-17T08:55:13+08:00">2018-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:58:02" itemprop="dateModified" datetime="2020-10-11T11:58:02+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>正如标题后半部分所言的，想必大家在遇到magento的使用的时候，会出现url里面没有index.php的时候会出现404报错。大家都知道404就是找不到资源地址。</p>
<p>网上的解决方案是这样的：</p>
<p><img src="https://i.imgur.com/k3bsOjZ.png"></p>
<p>1、系统-设置-网站-搜索引擎优化-是(默认否)</p>
<p>2、用域名打开就去掉烦人的index.php了</p>
<p>如果想要把index.html也去掉的话，可以根据如下进行：</p>
<p>在 system—&gt;configuration中确保下图的设置，绿色部分为空，则 .html就从网址中去掉了。</p>
<p><img src="https://i.imgur.com/nMEjGBJ.jpg"></p>
<p>3、在 system—&gt;cache management 中刷新缓存，还有cache management中的catalog中的缓存也都refresh, clear, rebulid下</p>
<p>4、去前台刷新下页面，it’s done。</p>
<p>当然，这是网站大部分的观点，确实也解决了大部分问题，可是当我们跟着上面走了一遍后还是不能解决这个问题的时候，改怎么办？</p>
<p>这个时候我们就要从服务器端开始排查问题了，这个时候我们想到了nginx和apache，我们先去apache确保重写模块是否开启。笔者这里是本地服务器（wampp）,所以笔者找到apache下面的配置文件：httpd.conf</p>
<p>输入rewrite查找，我们看到</p>
<pre><code>#LoadModule rewrite_module modules/mod_rewrite.so</code></pre>
<p>然后把前面的<code>#</code>键删除即可，也就是取消注释。</p>
<pre><code>LoadModule rewrite_module modules/mod_rewrite.so</code></pre>
<p>然后，重启服务器即可。最后我们就可以在访问路由的时候，就不用在域名后面加上index.php才能够被访问。</p>
<p>最后，容许笔者援引一下这个作者的方案(是他的方案启发了笔者)：</p>
<p>今天源码装一个1.7版本的magento本地环境，后台路径127.0.0.1/magento/admin访问一直出现404 not found</p>
<p>找了老半天才发现原来是伪静态的问题，本地wamp环境开启伪静态方法：在apache的主配置文件httpd.conf种搜索rewrite，然后将前面的注释去掉，然后把所有的AllowOverride None修改为AllowOverride All。</p>
<p>修改保存后重启服务就可以搞定了。</p>
<p>后台admin的路径对于后台的安全来说一定是不好的，我们可以通过/app/etc/local.xml里面的</p>
<pre><code>&lt;adminhtml&gt;
    &lt;args&gt;
        &lt;frontName&gt;&lt;![CDATA[admin]]&gt;&lt;/frontName&gt;
    &lt;/args&gt;

&lt;/adminhtml&gt;</code></pre>
<p>来改，可以根据实际情况修改后台登录地址。</p>
<p>刷新后台如果没有反应，可以删一下缓存，更新一下索引。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/12/linux%E6%9C%8D%E5%8A%A1%E5%99%A8cron%E9%87%87%E7%94%A8mutt%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD%E5%8F%91%E9%80%81%E7%94%B5%E9%82%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/12/linux%E6%9C%8D%E5%8A%A1%E5%99%A8cron%E9%87%87%E7%94%A8mutt%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD%E5%8F%91%E9%80%81%E7%94%B5%E9%82%AE/" class="post-title-link" itemprop="url">linux服务器cron采用mutt定时备份发送电邮</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-12 09:11:31" itemprop="dateCreated datePublished" datetime="2018-07-12T09:11:31+08:00">2018-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:57:58" itemprop="dateModified" datetime="2020-10-11T11:57:58+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>安装：</p>
<pre><code>yum -y install sendmail
yum install -y mutt</code></pre>
<p>配置：</p>
<pre><code>find / -name Muttrc
cp /etc/Muttrc /root/.muttrc
vi /root/.muttrc</code></pre>
<p>内容如下：</p>
<pre><code>set charset=&quot;utf-8&quot;
set rfc2047_parameters=yes
set use_from=yes
set from=&quot;root@cookie.com&quot;
set realname=&quot;cookie&quot;</code></pre>
<p>脚本发送邮件：</p>
<pre><code>cat bin/test.sh 
#!/bin/bash
#by cookie
logdir=/www/cookie.com/log.cookie.com
logname=phpstat*.log

mailContent=mailContent
&amp;gt;&quot;$mailContent&quot;

cd $logdir
tar zcvf log.tar.gz $logname

echo -e &quot;Dear all!\n&quot; &amp;gt;&amp;gt; $mailContent
echo -e &quot;\t PHPSTAT。烦请查收。&quot; &amp;gt;&amp;gt; $mailContent
cat $mailContent | mutt -s &quot;PHPSTAT &quot; cookie1@qq.com -c cookie2@qq.com -c cookie3@qq.com -a log.tar.gz

rm -rf log.tar.gz
rm -rf mailContent
rm -rf $logname</code></pre>
<p>定时任务：（每天凌晨三点执行一次）</p>
<pre><code>crontab -e
0 3 * * * /bin/bash /root/bin/test.sh</code></pre>
<p>这些都是在网上收集的。</p>
<hr>
<p>另外一篇比较详细的，这里转载一下：</p>
<p>使用Mutt发邮件极其方便,只需要一条命令即可发送或者批量发送邮件。</p>
<p><strong>1.mutt 安装，以及环境设置（可不设 ）</strong></p>
<p>Debian安装</p>
<pre><code>sudo apt-install install mutt</code></pre>
<p>centos安装</p>
<pre><code>sudo yum install mutt</code></pre>
<p>安装后mutt的默认配置(或“首选项”)可以让mutt立即使用，但你通常还是需要对Mutt进行配置以适合你自己的习惯。当Mutt启动，它会先尝试读取“系统”的配置文件（被系统管理员所设置），除非启动Mutt时指定了选项“-n”。系统的配置文件通常是/usr/local/share/mutt/Muttrc或者/etc/Muttrc目录。然后Mutt将在你的home目录查找一个叫.muttrc的文件。如果此文件不存在并且你的home目录下有一个叫.mutt的子目录，Mutt就会尝试加载文件.mutt/muttrc。<br>.muttrc是一个放置配置命令的文档。</p>
<p>比如你要设置邮件的发信人，需要做：</p>
<pre><code>sudo vi /etc/Muttrc
set envelope_from=yes
set from=yourname@xxx.com                                     
set realname=&quot;yourname&quot;               
set use_from=yes</code></pre>
<p><strong>2.mutt命令的基本参数</strong></p>
<pre><code>语 法：mutt [-hnpRvxz][-a&lt;文件&gt;][-b&lt;地址&gt;][-c&lt;地址&gt;][-f&lt;邮件文件&gt;][-F&lt;配置文件&gt;][-H&lt;邮件草稿&gt;][-i&lt;文件&gt;][-m&lt;类型&gt;][-s&lt;主题&gt;][邮件地址]
参 数：
-a&lt;文件&gt; 在邮件中加上附加文件。
-b&lt;地址&gt; 指定密件副本的收信人地址。
-c&lt;地址&gt; 指定副本的收信人地址。
-f&lt;邮件文件&gt; 指定要载入的邮件文件。
-F&lt;配置文件&gt; 指定mutt程序的设置文件，而不读取预设的.muttrc文件。
-h 显示帮助。
-H&lt;邮件草稿&gt; 将指定的邮件草稿送出。
-i&lt;文件&gt; 将指定文件插入邮件内文中。
-m&lt;类型&gt; 指定预设的邮件信箱类型。
-n 不要去读取程序配置文件(/etc/Muttrc)。
-p 在mutt中编辑完邮件后，而不想将邮件立即送出，可将该邮件暂缓寄出。
-R 以只读的方式开启邮件文件。
-s&lt;主题&gt; 指定邮件的主题。
-v 显示mutt的版本信息以及当初编译此文件时所给予的参数。
-x 模拟mailx的编辑方式。
-z 与-f参数一并使用时，若邮件文件中没有邮件即不启动mutt。
最常用的有：
-a， -c， -f, -m, -s</code></pre>
<p><strong>3.基本使用方法</strong></p>
<p>测试发送邮件,基本文本</p>
<pre><code>echo “测试mutt&quot; | mutt -s &quot;测试mutt&quot;  xxx@xxx.com</code></pre>
<p>多个收信人之间用，隔开</p>
<p>发送附件</p>
<pre><code>echo “测试mutt&quot; | mutt -s &quot;测试mutt&quot;  xxx@xxx.com  -a  /tmp/test.txt</code></pre>
<p>如果要发送多个附件，需要用多个-a</p>
<p>将文本文件内容作为正文</p>
<pre><code>mutt -s &quot;测试mutt&quot;  xxx@xxx.com  &lt; /tmp/test.txt</code></pre>
<p>如果想邮件内容有 样式，可以搞htm文档作为邮件正文</p>
<pre><code>mutt -s &quot;测试mutt&quot; -e &#39;set content_type=&quot;text/html&quot;&#39;   xxx@xxx.com  &lt; /tmp/test.html</code></pre>
<p>test.html可以简单的为：</p>
<p><strong>4.设置定时发送</strong></p>
<p>创建发送邮件的shell脚本mail.sh：</p>
<pre><code>**#!/bin/bash**
if [ -f ~/.bash_profile ];
then
  . ~/.bash_profile
fi
suffix=$(date +%Y-%m-%d -d &quot;today&quot;)
subject=&#39;自动发送邮件-&#39;$suffix
to=&quot;xxx@yy.com,zzz@yy.com&quot;
echo &quot;自动发送邮件&quot; | mutt $to -s $subject -e &#39;set content_type=&quot;text/html&quot;&#39;  &lt; /tmp/test_$suffix.html</code></pre>
<p>更多可以参考这个手册：<a target="_blank" rel="noopener" href="https://handsomecheung.github.io/mutt-manual-cn/mutt-manual-1.5.19-cn.html">https://handsomecheung.github.io/mutt-manual-cn/mutt-manual-1.5.19-cn.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/07/11/magento%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%9D%99%E6%80%81%E5%86%85%E5%AE%B9%E6%A8%A1%E5%9D%97%E5%A2%9E%E5%BC%BA%E6%8F%92%E4%BB%B6-easy-content-blocks-%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/11/magento%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%9D%99%E6%80%81%E5%86%85%E5%AE%B9%E6%A8%A1%E5%9D%97%E5%A2%9E%E5%BC%BA%E6%8F%92%E4%BB%B6-easy-content-blocks-%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">magento侧边栏模块以及静态内容模块增强插件(easy content blocks)的使用方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-11 11:56:49" itemprop="dateCreated datePublished" datetime="2018-07-11T11:56:49+08:00">2018-07-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-11 11:57:59" itemprop="dateModified" datetime="2020-10-11T11:57:59+08:00">2020-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>用过magento的人都知道，很多时候我们很需要多静态模块的编辑，以及这些静态模块的内容放置的位置需求很迫切，如果让侧边栏能够变得更加丰富呢？或者说如何让我们的产品单页或者页面变得更加丰富呢？处理自己开发模块，我们还可以借助一个插件去实现这类需求。</p>
<p>今天，笔者就讲解一下插件：Easy Content Blocks这个插件的使用。</p>
<p>这个插件是免费的。大家可以去下载，当然笔者这里已经提供了一个下载的地址：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/17h9YHBgnVEEIU9z-XVHAYw">https://pan.baidu.com/s/17h9YHBgnVEEIU9z-XVHAYw</a>，密码：sjm0</p>
<p>假设我们已经成功地安装了这个插件，那么我们接着往下看。</p>
<p><img src="https://i.imgur.com/BHuq41f.png"></p>
<p>目录：CMS—Easy Content Blocks</p>
<p>接下来我们分别打开Blocks和Placeholders这两个。</p>
<p>在blocks那里新建一个：</p>
<p><img src="https://i.imgur.com/Qq8JULm.png"></p>
<p>很简单，就是一个富文本编辑器，里面可以根据自己需求进行添加内容。</p>
<p>好的，我们再来到Placeholders那里添加一个。</p>
<p><img src="https://i.imgur.com/DJSB30f.png"></p>
<p>这个位置我们选择：Bottom of the left column on category page</p>
<p>接着，就是我们来到第二个tab那里，选择激活的block，由于我们刚才新建了一个，那么我们就选择刚才新建的那个：节日放假通知</p>
<p>截图如下：</p>
<p><img src="https://i.imgur.com/sy1p0bh.png"></p>
<p>好的，我们接着往下，找到第三个tab，配置分类，截图如下：</p>
<p><img src="https://i.imgur.com/YvZFsNO.png"></p>
<p>好的，这里笔者选择了分类：cloth等一系列的分类，就是说这个东西会在这些分类里面生效。</p>
<p>好的，点击保存后，我们去前台看效果，这里选择cloth这个分类页面。</p>
<p><img src="https://i.imgur.com/RHWRYVJ.png"></p>
<p>好的预期达到。</p>
<p>好的，比如我们想要把这个现实在产品分类页面的上面或者下面，该怎么办？我们还是回到那个Placeholders里面去，我们找到General Information，进入到里面找到Position那个选项那里，选择：Above the product list on category page，截图如下：</p>
<p><img src="https://i.imgur.com/emSDaiN.png"></p>
<p>最后我们，再次查看效果：</p>
<p><img src="https://i.imgur.com/hV7l77M.png"></p>
<p>其他的大家可以自行尝试。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/43/">43</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">424</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">400</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
